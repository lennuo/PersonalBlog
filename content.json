{"meta":{"title":"å°è¯ºå­¦ä¹ åšå®¢","subtitle":null,"description":"å­¦ä¹ åšå®¢","author":"xiaonuolen","url":"https://lennuo.github.io/PersonalBlog"},"pages":[{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2021-02-16T11:56:15.422Z","comments":false,"path":"bangumi/index.html","permalink":"https://lennuo.github.io/PersonalBlog/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2021-02-17T07:37:15.228Z","comments":false,"path":"about/index.html","permalink":"https://lennuo.github.io/PersonalBlog/about/index.html","excerpt":"","text":"å°è¯ºé¸­ ä¸&nbsp; xiaonuo&nbsp; ï¼ˆ å°è¯º ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2021-02-16T11:56:15.424Z","comments":false,"path":"client/index.html","permalink":"https://lennuo.github.io/PersonalBlog/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2021-02-16T11:56:15.427Z","comments":false,"path":"donate/index.html","permalink":"https://lennuo.github.io/PersonalBlog/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2021-02-16T11:56:15.428Z","comments":false,"path":"lab/index.html","permalink":"https://lennuo.github.io/PersonalBlog/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2021-02-16T11:56:15.425Z","comments":true,"path":"comment/index.html","permalink":"https://lennuo.github.io/PersonalBlog/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2021-02-16T11:56:15.430Z","comments":true,"path":"links/index.html","permalink":"https://lennuo.github.io/PersonalBlog/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"music","date":"2020-12-20T15:14:28.000Z","updated":"2021-02-17T06:37:02.024Z","comments":false,"path":"music/index.html","permalink":"https://lennuo.github.io/PersonalBlog/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2021-02-16T11:56:15.433Z","comments":true,"path":"rss/index.html","permalink":"https://lennuo.github.io/PersonalBlog/rss/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2021-02-16T11:56:15.435Z","comments":true,"path":"tags/index.html","permalink":"https://lennuo.github.io/PersonalBlog/tags/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2021-02-16T11:56:15.437Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://lennuo.github.io/PersonalBlog/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2021-02-16T11:56:15.439Z","comments":false,"path":"video/index.html","permalink":"https://lennuo.github.io/PersonalBlog/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"ã€ç”Ÿåƒ»å­—ã€‘ï¼ˆè®¡ç®—æœºç‰ˆï¼‰è®¡ç®—æœºç³»äººéª„å‚²åœ°æŠŠå¤´æŠ¬èµ·","slug":"yule/jisuanji","date":"2021-02-17T13:47:59.000Z","updated":"2021-02-19T01:43:57.662Z","comments":false,"path":"2021/02/17/yule/jisuanji/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/17/yule/jisuanji/","excerpt":"","text":"æ¥è‡ªbilibiliè§†é¢‘å¼•ç”¨ Upä¸»ï¼šæ´¾ä¸‰å”iPython3","categories":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}],"tags":[],"keywords":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}]},{"title":"ã€æ´¾å¤§æ˜Ÿçš„ç‹¬ç™½ã€‘ä¸€ä¸ªå…³äºæ­£å¸¸äººçš„æ•…äº‹","slug":"yule/paidaxin","date":"2021-02-17T13:47:59.000Z","updated":"2021-02-19T01:43:57.846Z","comments":false,"path":"2021/02/17/yule/paidaxin/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/17/yule/paidaxin/","excerpt":"","text":"æ¥è‡ªbilibiliè§†é¢‘å¼•ç”¨ Upä¸»ï¼šæ´›æ¸©é˜¿ç‰¹é‡‘æ£®","categories":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}],"tags":[],"keywords":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}]},{"title":"ã€é›†åˆã€‘HashTable-ConcurrentHashMap","slug":"mianshi/HashTable-concurrentHashMap","date":"2020-11-11T14:11:22.000Z","updated":"2021-02-19T06:02:36.758Z","comments":false,"path":"2020/11/11/mianshi/HashTable-concurrentHashMap/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2020/11/11/mianshi/HashTable-concurrentHashMap/","excerpt":"","text":"HashTableçº¿ç¨‹å®‰å…¨æ€§ä¹¦æ¥ä¸Šå›,è¯´åˆ°äº†HashMapæ˜¯ä¸å®‰å…¨çš„,è¯´åˆ°äº†HashTableæ˜¯å®‰å…¨çš„,ç›´æ¥æ”¾æºç  public synchronized V get(Object key) { Entry&lt;?,?&gt; tab[] = table; int hash = key.hashCode(); int index = (hash &amp; 0x7FFFFFFF) % tab.length; for (Entry&lt;?,?&gt; e = tab[index] ; e != null ; e = e.next) { if ((e.hash == hash) &amp;&amp; e.key.equals(key)) { return (V)e.value; } } return null; } public synchronized boolean containsKey(Object key) { Entry&lt;?,?&gt; tab[] = table; int hash = key.hashCode(); int index = (hash &amp; 0x7FFFFFFF) % tab.length; for (Entry&lt;?,?&gt; e = tab[index] ; e != null ; e = e.next) { if ((e.hash == hash) &amp;&amp; e.key.equals(key)) { return true; } } return false; } çœ‹å…¨éƒ¨éƒ½æ˜¯åŠ äº†é”çš„,æ‰€ä»¥å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„äº†ã€‚ ä¸HashMapçš„ä¸åŒ HashMapçš„keyå¯ä»¥ä¸ºnull,HashTableæ˜¯ä¸å…è®¸çš„å› ä¸ºHashTableæœ‰ä¸ªå®‰å…¨å¤±è´¥æœºåˆ¶è¿™ç§æœºåˆ¶ä¼šå¯¼è‡´ä½ è¯»çš„æ•°æ®éƒ½ä¸ä¸€å®šæ˜¯æœ€æ–°çš„,å› æ­¤å½“keyä¸ºnullçš„æ—¶å€™,ä¸ç¡®å®šä»–æ˜¯çœŸçš„åŒ…å«è¿˜æ˜¯çœŸçš„æ²¡æœ‰ åˆå§‹å®¹é‡ä¸åŒHashTableé»˜è®¤æ˜¯11,HashMapæ˜¯16 æ‰©å®¹ä¸åŒHashMapæ˜¯2å€,HashTableæ˜¯2å€+1 è¿­ä»£å™¨ä¸åŒHashMapè¿­ä»£å™¨æ˜¯fail-fast(å¿«é€Ÿå¤±è´¥),HashTableä¸æ˜¯,æ‰€ä»¥HashTableåœ¨è¿­ä»£çš„æ—¶å€™å¯ä»¥ä¿®æ”¹å¢åˆ æ•°æ® å¿«é€Ÿå¤±è´¥å¿«é€Ÿå¤±è´¥æ˜¯javaé‡Œé¢æ‰€æœ‰çš„é›†åˆéƒ½æœ‰çš„ä¸€ä¸ª,å½“å¯¹ä¸€ä¸ªé›†åˆè¿›è¡Œè¿­ä»£éå†çš„æ—¶å€™,å¦‚æœè¿›è¡Œå¢åˆ æ”¹æ“ä½œå°±ä¼šæŠ›å‡ºå¼‚å¸¸,å…¶ä¸­æœ‰ä¸€ä¸ªå˜é‡modCountç”¨æ¥è®°å½•ä¿®æ”¹æ¬¡æ•°,è¿˜æœ‰ä¸€ä¸ªå˜é‡expectedModCountåˆ™æ˜¯è¡¨ç¤ºè¿­ä»£å™¨å¯¹é›†åˆè¿›è¡Œä¿®æ”¹çš„æ¬¡æ•°ã€‚åœ¨è¿›è¡Œnext()/hasNext()çš„æ—¶å€™ä¼šæ£€æŸ¥ä¸¤ä¸ªå€¼æ˜¯å¦ä¸€æ ·,ä¸ä¸€æ ·åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ ç¼ºç‚¹HashTableçš„ä¼˜ç‚¹æ˜¯èƒ½å¤Ÿä¿è¯çº¿ç¨‹çš„å®‰å…¨æ€§,åŒæ—¶è¿™ä¹Ÿæ˜¯ä»–çš„ä¸€ä¸ªç¼ºç‚¹,ä»–ä¸€é”å°±ä¼šæŠŠæ•´ä¸ªå¯¹é”ä½,å¯¼è‡´æ•ˆç‡æä½,å› æ­¤å‡ºç°äº†concurrentHashMapã€‚ ConcurrentHashMapJDK1.7åº•å±‚ç»“æ„Segment+HashEntry(æ•°ç»„+é“¾è¡¨) ConcurrentHashMap é‡‡ç”¨äº†åˆ†æ®µé”æŠ€æœ¯ï¼Œå…¶ä¸­ Segment ç»§æ‰¿äº ReentrantLock, æ‰€ä»¥è¦é”çš„æ—¶å€™å°±åªä¼šå•ç‹¬é”ä¸€ä¸ªSegment,ä¸ä¼šå½±å“å…¶ä»–çš„Segmentã€‚ PUTé¦–å…ˆå°è¯•è·å¾—é”,å¦‚æœå¤±è´¥å°±æ˜¯æœ‰å…¶ä»–çº¿ç¨‹,é‚£ä¹ˆå°±è‡ªæ—‹å°è¯•è·å¾—é”,åˆ°ä¸€å®šæ¬¡æ•°å°±æ”¹ä¸ºé˜»å¡é”è·å–å…ˆé€šè¿‡ key å®šä½åˆ° HashEntry,éå†è¯¥ HashEntry, å¦‚æœä¸ä¸ºç©ºåˆ™éå† key å’Œå½“å‰ key æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰, ç›¸ç­‰å°±è¦†ç›–æ‰æ—§çš„ valueä¸ºç©ºçš„è¯å°±ä¼šæ–°å»ºä¸€ä¸ª HashEntry å¹¶åŠ å…¥åˆ° Segment ä¸­,åŒæ—¶åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹ GETgetä¸éœ€è¦ä¿®æ”¹æ•°æ®,æ‰€ä»¥æ¯”è¾ƒé«˜æ•ˆ,ç¬¬ä¸€æ¬¡Hashåˆ°Segment,ç¬¬äºŒæ¬¡Hashåˆ°å…·ä½“çš„å…ƒç´ ä¸Šã€‚ ç¼ºç‚¹æŸ¥è¯¢çš„æ—¶å€™ï¼Œè¿˜å¾—éå†é“¾è¡¨ï¼Œä¼šå¯¼è‡´æ•ˆç‡å¾ˆä½ï¼Œè¿™ä¸ªè·Ÿjdk1.7çš„HashMapæ˜¯å­˜åœ¨çš„ä¸€æ ·é—®é¢˜ï¼Œæ‰€ä»¥ä»–åœ¨jdk1.8å®Œå…¨ä¼˜åŒ–äº†ã€‚ JDK1.8åº•å±‚ç»“æ„Node+CAS+Synchronized PUT æ ¹æ® key è®¡ç®—å‡º hashcodeã€‚ åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œåˆå§‹åŒ–ã€‚ å³ä¸ºå½“å‰ key å®šä½å‡ºçš„ Nodeï¼Œå¦‚æœä¸ºç©ºè¡¨ç¤ºå½“å‰ä½ç½®å¯ä»¥å†™å…¥æ•°æ®ï¼Œåˆ©ç”¨ CAS å°è¯•å†™å…¥ï¼Œå¤±è´¥åˆ™è‡ªæ—‹ä¿è¯æˆåŠŸã€‚ å¦‚æœå½“å‰ä½ç½®çš„ hashcode == MOVED == -1,åˆ™éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚ å¦‚æœéƒ½ä¸æ»¡è¶³ï¼Œåˆ™åˆ©ç”¨ synchronized é”å†™å…¥æ•°æ®ã€‚ å¦‚æœæ•°é‡å¤§äº TREEIFY_THRESHOLD åˆ™è¦è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}],"tags":[],"keywords":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}]},{"title":"ã€é›†åˆã€‘HashMap","slug":"mianshi/hashmap","date":"2020-11-10T12:11:22.000Z","updated":"2021-02-19T03:49:40.563Z","comments":false,"path":"2020/11/10/mianshi/hashmap/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2020/11/10/mianshi/hashmap/","excerpt":"","text":"HashMapå­˜å‚¨ç»“æ„JDK1.7åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„+é“¾è¡¨ JDK.1.8åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ PUTæ–¹æ³•[1] æ‰©å®¹æœºåˆ¶é»˜è®¤å¤§å°ä¸º16,æœ€å¤§çš„å®¹é‡æ˜¯2^30,é»˜è®¤å› å­0.75 static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30; static final float DEFAULT_LOAD_FACTOR = 0.75f; ä¾‹å¦‚ï¼š16*0.75=12ï¼Œé»˜è®¤åˆ›å»ºä¸€ä¸ªmapå¯¹è±¡æ•°ç»„å¤§å°æ˜¯16ï¼Œå½“mapæ·»åŠ 12ä¸ªå…ƒç´ åˆ°çš„æ—¶å€™å°±å‘ç”Ÿæ‰©å®¹ï¼Œ åˆ›å»ºæ–°çš„æ•°ç»„çš„å¤§å°2*16=32ï¼Œç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½® HashMapçš„å®¹é‡ä¸ºä»€ä¹ˆæ˜¯2çš„næ¬¡å¹‚ï¼Œå’Œè¿™ä¸ª(n - 1) &amp; hashçš„è®¡ç®—æ–¹æ³•æœ‰ç€åƒä¸ä¸‡ç¼•çš„å…³ç³»ï¼Œç¬¦å·&amp; æ˜¯æŒ‰ä½ä¸çš„è®¡ç®—ï¼Œè¿™æ˜¯ä½è¿ç®—ï¼Œè®¡ç®—æœºèƒ½ç›´æ¥è¿ç®—ï¼Œç‰¹åˆ«é«˜æ•ˆï¼ŒæŒ‰ä½ä¸&amp;çš„è®¡ç®—æ–¹æ³•æ˜¯ï¼Œåªæœ‰å½“å¯¹åº”ä½ ç½®çš„æ•°æ®éƒ½ä¸º1æ—¶ï¼Œè¿ç®—ç»“æœä¹Ÿä¸º1ï¼Œå½“HashMapçš„å®¹é‡æ˜¯2çš„næ¬¡å¹‚æ—¶ï¼Œ(n-1)çš„2è¿›åˆ¶ä¹Ÿå°±æ˜¯1111111***111 è¿™æ ·å½¢å¼çš„ï¼Œè¿™æ ·ä¸æ·»åŠ å…ƒç´ çš„hashå€¼è¿›è¡Œä½è¿ç®—æ—¶ï¼Œèƒ½å¤Ÿå……åˆ†çš„æ•£åˆ—ï¼Œä½¿å¾—æ·»åŠ çš„å…ƒç´ å‡åŒ€åˆ†å¸ƒåœ¨HashMap çš„æ¯ä¸ªä½ç½®ä¸Šï¼Œå‡å°‘hashç¢°æ’[2] ä»ä»£ç å¯ä»¥çœ‹åˆ°æ‰©å®¹å°±æ˜¯transfer()æ–¹æ³•ä¸­ç”¨ä¸€ä¸ªå®¹é‡æ›´å¤§çš„æ•°ç»„æ¥ä»£æ›¿åŸæœ‰çš„æ•°ç»„ void resize(int newCapacity) { //ä¼ å…¥æ–°çš„å®¹é‡ Entry[] oldTable = table; //å¼•ç”¨æ‰©å®¹å‰çš„Entryæ•°ç»„ int oldCapacity = oldTable.length; if (oldCapacity == MAXIMUM_CAPACITY) { //æ‰©å®¹å‰çš„æ•°ç»„å¤§å°å¦‚æœå·²ç»è¾¾åˆ°æœ€å¤§(2^30)äº† threshold = Integer.MAX_VALUE; //ä¿®æ”¹é˜ˆå€¼ä¸ºintçš„æœ€å¤§å€¼(2^31-1)ï¼Œè¿™æ ·ä»¥åå°±ä¸ä¼šæ‰©å®¹äº† return; } Entry[] newTable = new Entry[newCapacity]; //åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„Entryæ•°ç»„ transfer(newTable); //ï¼ï¼å°†æ•°æ®è½¬ç§»åˆ°æ–°çš„Entryæ•°ç»„é‡Œ table = newTable; //HashMapçš„tableå±æ€§å¼•ç”¨æ–°çš„Entryæ•°ç»„ threshold = (int)(newCapacity * loadFactor);//ä¿®æ”¹é˜ˆå€¼ } void transfer(Entry[] newTable) { Entry[] src = table; //srcå¼•ç”¨äº†æ—§çš„Entryæ•°ç»„ int newCapacity = newTable.length; for (int j = 0; j &lt; src.length; j++) { //éå†æ—§çš„Entryæ•°ç»„ Entry&lt;K,V&gt; e = src[j]; //å–å¾—æ—§Entryæ•°ç»„çš„æ¯ä¸ªå…ƒç´  if (e != null) { src[j] = null;//é‡Šæ”¾æ—§Entryæ•°ç»„çš„å¯¹è±¡å¼•ç”¨ï¼ˆforå¾ªç¯åï¼Œæ—§çš„Entryæ•°ç»„ä¸å†å¼•ç”¨ä»»ä½•å¯¹è±¡ï¼‰ do { Entry&lt;K,V&gt; next = e.next; int i = indexFor(e.hash, newCapacity); //ï¼ï¼é‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½® e.next = newTable[i]; //æ ‡è®°[1] newTable[i] = e; //å°†å…ƒç´ æ”¾åœ¨æ•°ç»„ä¸Š e = next; //è®¿é—®ä¸‹ä¸€ä¸ªEntryé“¾ä¸Šçš„å…ƒç´  } while (e != null); } } } JDK1.7ä½¿ç”¨çš„å¤´æ’æ³•(å…ˆè¿›åå‡ºâ€“æ ˆ),ä½œè€…ä¸€å¼€å§‹çš„æ—¶å€™ä»¥ä¸ºå…ˆè¿›æ¥çš„æ•°æ®è‚¯å®šä¼šå…ˆç”¨åˆ°,ä½†æ˜¯å¤´æ’æ³•æœ‰ä¸€ä¸ªé—®é¢˜ä¾‹(A-&gt;B-&gt;C) é‚£ä¹ˆæ’å…¥é¡ºåºå°±æ˜¯C-B-A å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰©å®¹çš„æ—¶å€™,é‚£ä¹ˆAå…ˆå¼¹å‡ºå»,æ¥ç€æ˜¯B,å¯èƒ½ä¼šæ˜¯AåŒä¸€ä¸ªä½ç½®,å› ä¸ºå¤´æ’æ³•é‚£ä¹ˆå°±ä¼šå¯¼è‡´B-&gt;A,å½¢æˆäº†æ­»é“¾ JDK1.8ä½¿ç”¨äº†å°¾æ’æ³•(å…ˆè¿›å…ˆå‡ºâ€“é˜Ÿåˆ—)è¿˜æ˜¯åŒæ ·çš„ä¾‹å­(A-&gt;B-&gt;C),é»˜è®¤é¡ºåºæ˜¯(A-B-C),å°±ä¸ä¼šå‡ºç°æ­»é“¾é—®é¢˜. å½“ç„¶HashMapæœ¬èº«è¿˜æ˜¯ä¸å®Œå…¨çš„,ä»–æ²¡æœ‰é”çš„ä¿æŠ¤.çº¿ç¨‹å®‰å…¨å½“ç„¶è¿˜è¦çœ‹HashTableå’ŒConcurrentHashMap å¼•ç”¨èµ„æ–™[1] neverç–¯ https://blog.csdn.net/qq_40574571/article/details/97612100[2] çŒ¿äººå°éƒ‘ https://blog.csdn.net/Apeopl/article/details/88935422","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}],"tags":[],"keywords":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}]}]}