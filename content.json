{"meta":{"title":"å°è¯ºå­¦ä¹ åšå®¢","subtitle":null,"description":"å­¦ä¹ åšå®¢","author":"xiaonuolen","url":"https://lennuo.github.io/PersonalBlog"},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2021-02-17T07:37:15.228Z","comments":false,"path":"about/index.html","permalink":"https://lennuo.github.io/PersonalBlog/about/index.html","excerpt":"","text":"å°è¯ºé¸­ ä¸&nbsp; xiaonuo&nbsp; ï¼ˆ å°è¯º ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2021-02-16T11:56:15.422Z","comments":false,"path":"bangumi/index.html","permalink":"https://lennuo.github.io/PersonalBlog/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2021-02-16T11:56:15.424Z","comments":false,"path":"client/index.html","permalink":"https://lennuo.github.io/PersonalBlog/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2021-02-16T11:56:15.425Z","comments":true,"path":"comment/index.html","permalink":"https://lennuo.github.io/PersonalBlog/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2021-02-16T11:56:15.427Z","comments":false,"path":"donate/index.html","permalink":"https://lennuo.github.io/PersonalBlog/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2021-02-16T11:56:15.428Z","comments":false,"path":"lab/index.html","permalink":"https://lennuo.github.io/PersonalBlog/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2021-02-16T11:56:15.430Z","comments":true,"path":"links/index.html","permalink":"https://lennuo.github.io/PersonalBlog/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"music","date":"2020-12-20T15:14:28.000Z","updated":"2021-02-17T06:37:02.024Z","comments":false,"path":"music/index.html","permalink":"https://lennuo.github.io/PersonalBlog/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2021-02-16T11:56:15.433Z","comments":true,"path":"rss/index.html","permalink":"https://lennuo.github.io/PersonalBlog/rss/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2021-02-16T11:56:15.435Z","comments":true,"path":"tags/index.html","permalink":"https://lennuo.github.io/PersonalBlog/tags/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2021-02-16T11:56:15.437Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://lennuo.github.io/PersonalBlog/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2021-02-16T11:56:15.439Z","comments":false,"path":"video/index.html","permalink":"https://lennuo.github.io/PersonalBlog/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"ã€Leetcodeã€‘æ±‚å’Œè·¯å¾„","slug":"suanfa/æ±‚å’Œè·¯å¾„","date":"2021-02-22T06:11:22.000Z","updated":"2021-02-22T07:43:45.351Z","comments":false,"path":"2021/02/22/suanfa/æ±‚å’Œè·¯å¾„/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/22/suanfa/æ±‚å’Œè·¯å¾„/","excerpt":"","text":"é¢˜ç›®ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å«æœ‰ä¸€ä¸ªæ•´æ•°æ•°å€¼(è¯¥å€¼æˆ–æ­£æˆ–è´Ÿ)ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œæ‰“å°èŠ‚ç‚¹æ•°å€¼æ€»å’Œç­‰äºæŸä¸ªç»™å®šå€¼çš„æ‰€æœ‰è·¯å¾„çš„æ•°é‡ã€‚æ³¨æ„ï¼Œè·¯å¾„ä¸ä¸€å®šéå¾—ä»äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹æˆ–å¶èŠ‚ç‚¹å¼€å§‹æˆ–ç»“æŸï¼Œä½†æ˜¯å…¶æ–¹å‘å¿…é¡»å‘ä¸‹(åªèƒ½ä»çˆ¶èŠ‚ç‚¹æŒ‡å‘å­èŠ‚ç‚¹æ–¹å‘)ã€‚ é“¾æ¥ æ€è·¯ä¸€å¼€å§‹ä»ä¸Šå¾€ä¸‹æ‰¾,ä½†å‡ºç°äº†å¤šæ¬¡é‡å¤çš„æƒ…å†µ,æ”¹äº†å¾ˆå¤šæ¬¡ä¹Ÿå°±è¿‡äº†ç™¾åˆ†85çš„æ¡ˆä¾‹,çœ‹äº†ä¸‹ä¸€ä¸ªäººè§£ç­” é€šè¿‡ å±‚æ¬¡å­˜æ¯ä¸€ä¸ªå€¼ ä»ä¸‹å¾€ä¸Šå€’æ¨,è¿™æ ·å­å°±é¿å…äº†é‡å¤çš„é—®é¢˜,é€Ÿåº¦è¿˜ç‰¹åˆ«å¿«ã€‚ ä»£ç /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { static int ans = 0; public static int pathSum(TreeNode root, int sum) { ans = 0; int depth = depth(0, root); int []path = new int[depth+2]; dfs(root, path, 1, sum); return ans; } static void dfs(TreeNode node,int []path,int level,int target) { if(node==null) { return ; } path[level] = node.val; int sum = 0; for(int i = level;i&gt;0;i--) { sum = sum + path[i]; if(sum==target) { ans++; } } dfs(node.left, path, level+1, target); dfs(node.right, path, level+1, target); } static int depth(int level,TreeNode node) { if(node == null) return 0; return Math.max(depth(level+1, node.left), depth(level+1, node.right)) + 1; } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}],"tags":[],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}]},{"title":"ã€Leetcodeã€‘236 äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ","slug":"suanfa/236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ","date":"2021-02-21T07:11:22.000Z","updated":"2021-02-21T07:50:36.589Z","comments":false,"path":"2021/02/21/suanfa/236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/21/suanfa/236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ/","excerpt":"","text":"é¢˜ç›®ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚ ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªèŠ‚ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªèŠ‚ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€ é“¾æ¥ ç¤ºä¾‹1è¾“å…¥ï¼šroot = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1 è¾“å‡ºï¼š3 è§£é‡Šï¼šèŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3 ã€‚ 2è¾“å…¥ï¼šroot = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4 è¾“å‡ºï¼š5 è§£é‡Šï¼šèŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5 ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚ 3è¾“å…¥ï¼šroot = [1,0,2] è¾“å‡ºï¼š[3,3,2] 4è¾“å…¥ï¼šroot = [3,2,4,1] è¾“å‡ºï¼š[7,9,4,10] æç¤ºï¼š æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [2, 10^5] å†…ã€‚ -10^9 &lt;= Node.val &lt;= 10^9 æ‰€æœ‰ Node.val äº’ä¸ç›¸åŒ ã€‚ p != q p å’Œ q å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚ æ€è·¯æœ‰ä¸‰ç§æƒ…å†µï¼š å·¦å³è¾¹éƒ½æœ‰ä¸€ä¸ª å…¨éƒ¨åœ¨å·¦è¾¹ å…¨éƒ¨åœ¨å³è¾¹é‚£ä¹ˆé€’å½’å°±å¥½äº†å»åšä¸‰ä¸ªåˆ¤æ–­ä¸¤è¾¹éƒ½æœ‰ä»–å°±æ˜¯æ ¹äº†,ç›´æ¥è¿”å›ä»–å°±å¥½äº† ä»£ç /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public static TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { return find(root, p, q); } static TreeNode find(TreeNode node,TreeNode p,TreeNode q) { if(node==null) { return null; } if(node.val==p.val || node.val==q.val) { return node; } else { TreeNode left = find(node.left, p, q); TreeNode right = find(node.right, p, q); if(left!=null &amp;&amp; right!=null) { return node; } else if(left==null) { return right; } else { return left; } } } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}],"tags":[],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}]},{"title":"ã€MAVENã€‘è®°ä¸€æ¬¡å› ä¸ºMavenæ²¡æœ‰åŠæ—¶æ›´æ–°äº§ç”Ÿçš„é—®é¢˜","slug":"jishu/mavenproblem-2-21","date":"2021-02-21T03:11:22.000Z","updated":"2021-02-21T03:34:23.325Z","comments":false,"path":"2021/02/21/jishu/mavenproblem-2-21/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/21/jishu/mavenproblem-2-21/","excerpt":"","text":"2021-02-21 02:25:00ä»Šå¤©æŠŠæ¨¡å—å…¨éƒ¨æ‰“åŒ…éƒ¨ç½²ï¼Œä¸€å¼€å§‹é¡ºé¡ºåˆ©åˆ©ï¼Œæµ‹äº†ä¸€ééƒ½æ²¡æœ‰é—®é¢˜ï¼Œç„¶åå› ä¸ºæœ‰ä¸€äº›æ˜¾ç¤ºçš„åŸå› ç»™è·¯å¾„å¤šåŠ äº†ä¸€ä¸ªå‰ç¼€ï¼Œæƒ¨æ¡ˆæ¥äº†ï¼Œå†æ¬¡è¯·æ±‚æ‰¾ä¸åˆ°äº†ï¼Œfeignè¯·æ±‚404äº†ï¼Œè·‘äº†ä¸‹æœ¬åœ°å‘ç°æˆåŠŸçš„ï¼Œè¯•äº†å‡ æ¬¡æ›´æ¢å‰ç¼€éƒ½æ˜¯æˆåŠŸçš„ï¼Œæ‰“åŒ…å»è·‘å°±æ˜¯404ï¼Œè¿™ä¸ªæ—¶å€™å°±æ„Ÿè§‰æ˜¯æ‰“åŒ…æ—¶å€™ç¼“å­˜çš„é—®é¢˜ï¼Œä½†ä¸çŸ¥é“æ˜¯å“ªå—å‡ºäº†é—®é¢˜ã€‚ç¬¬ä¸€ååº”æ˜¯è°ƒç”¨æ–¹ï¼Œä¹‹å‰ä¹Ÿå‡ºç°è¿‡è¿™ä¸ªæ¨¡å—ç¼“å­˜ä¸æ›´æ–°ï¼Œå°è¯•ç›´æ¥è¯·æ±‚æ¥å£å‘ç°å¯ä»¥ç”¨çš„ã€‚ç„¶åå»æœåŠ¡å™¨ä¸Šæ£€æŸ¥æ³¨å†Œä¸­å¿ƒï¼Œå‘ç°ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œé‚£å°±è‚¯å®šæ˜¯æ‰“åŒ…å‡ºé—®é¢˜äº†ã€‚åšäº†å¯¹ç…§å®éªŒï¼Œä¸€æ¬¡ç”¨äº†ç¬¬ä¸€æ¬¡æ‰“åŒ…çš„è·¯å¾„ï¼Œè¯·æ±‚æˆåŠŸäº†ã€‚ç¬¬äºŒæ¬¡éšä¾¿è¾“å…¥ï¼Œè¯·æ±‚å¤±è´¥äº†ã€‚ç¬¬ä¸‰æ¬¡ä¿®æ”¹äº†æœåŠ¡åç§°ï¼Œfeignç”¨äº†ä¿®æ”¹åéšä¾¿è¾“å…¥ï¼Œå‘ç°ä»–è¿˜æ˜¯æŠ¥çš„æœ€æ—©çš„è·¯å¾„ã€‚å¥½äº†åˆè¢«ç¼“å­˜å‘äº†ï¼Œæ¥ä¸‹æ¥ä¸ç®¡æ˜¯cleanä¹Ÿå¥½ï¼Œç›´æ¥ç¼–è¯‘å™¨æ¸…ç¼“å­˜éƒ½æ¸…ç©ºä¸æ‰ï¼Œæœ€æ°”çš„æ˜¯æœ¬åœ°å°±æ˜¯å¥½å¥½çš„ï¼Œå°±ç»™ä½ æ‰“åŒ…åæŠ¥ã€‚æœ€åç›´æ¥æ¢äº†2019.3çš„ç¼–è¯‘å™¨ï¼Œä»¥å‰ä¸€ç›´ç”¨è¿™ä¸ªç‰ˆæœ¬ï¼Œæ–°è£…äº†ç³»ç»Ÿæ‰è£…äº†2020.3çš„ã€‚ä¸çŸ¥é“æ˜¯é‡æ–°åŠ è½½çš„åŸå› è¿˜æ˜¯ç¼–è¯‘å™¨çš„åŸå› ï¼Œåæ­£ä¿®æ”¹äº†å‡ ä¸ªå°é—®é¢˜å°±å¥½äº†ï¼Œç„¶åå‘ç°å…¬å…±åŒ…é‡Œé¢æœ‰ä¸€ä¸ªå¼•ç”¨é—®é¢˜ï¼Œè®²é“ç†ä¼šæŠ¥é”™çš„ï¼Œä¹‹å‰å±…ç„¶å¹³å®‰æ— äº‹åœ°è¿è¡Œäº†åŠä¸ªæœˆéƒ½æ²¡æœ‰æç¤ºã€‚ç°åœ¨æ˜¯2.25äº†ï¼Œç¡è§‰ç¡è§‰ï¼Œæœ¬æ¥ä»Šå¤©è¿˜æƒ³æ—©ç¡ã€‚ 2021-02-21 11:28:00ç°åœ¨ä»”ç»†æƒ³æƒ³ä¹Ÿæœ‰å¯èƒ½æ˜¯çš„é‚£ä¸ªæ²¡æœ‰ä¿®æ”¹çš„å°bugçš„åŸå› ,å› ä¸ºæŠ¥é”™å¯èƒ½å¯¼è‡´ä¾èµ–ä»–ç”Ÿäº§è€…æ¨¡å—æ²¡æœ‰æˆåŠŸçš„é‡æ–°åŠ è½½,ä»¥åè¿˜æ˜¯è¦å¤šæ³¨æ„mavençš„å‘,ä»¥å‰éƒ½æ²¡æœ‰è¿™ä¹ˆåœ¨æ„è¿‡,è¿™æ¬¡å†™ å¾®æœåŠ¡ é¡¹ç›®çš„æ—¶å€™å‘ç”Ÿè¿‡å¥½å‡ æ¬¡å› ä¸ºåŠ è½½æ—¶å€™æ²¡æœ‰æ›´æ–°ä¾èµ–å‡ºç°çš„é—®é¢˜ã€‚","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¼€å‘/"}],"tags":[],"keywords":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¼€å‘/"}]},{"title":"ã€MYSQLã€‘ç´¢å¼•åŸºç¡€ç¯‡","slug":"mianshi/mysql/suoying","date":"2021-02-19T11:04:22.000Z","updated":"2021-02-19T12:43:28.938Z","comments":false,"path":"2021/02/19/mianshi/mysql/suoying/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/19/mianshi/mysql/suoying/","excerpt":"","text":"å¼ ä¸‰æ¥æ”¶äº†ä¸€ä¸ªè€é¡¹ç›®,æŸ¥æ•°æ®çš„æ—¶å€™ç»å¸¸ä¼šè¢«åæ§½æŸ¥è¯¢é€Ÿåº¦æ…¢,æ•°æ®å‡ºä¸æ¥ã€‚ç»ˆäºå®ƒç‚¸äº†,å‡ºä¸æ¥æ•°æ®äº†(åˆè¯¥ç¥­å¤©ç¨‹åºå‘˜äº†),ç»è¿‡æ£€æŸ¥å‘ç°æ•°æ®å¤šçš„å·²ç»æŸ¥è¯¢æ•°æ®åº“è¦å‡ åˆ†é’Ÿäº†,è¿™ä¸ªæ—¶å€™ ç´¢å¼• ç«™äº†å‡ºæ¥ æ¦‚å¿µ[1]æˆ‘ä»¬çŸ¥é“æ•°æ®åº“çš„æ•°æ®æœ€ç»ˆå®ƒéƒ½ä¼šå­˜å‚¨åœ¨æ–‡ä»¶ä¸­ã€‚é‚£ä¹ˆæˆ‘ä»¬æŸ¥æ‰¾idä¸º1çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šè¿™ä¹ˆå†™ï¼šSELECT FROM person WHERE ID = 1.å¦‚æœæ²¡æœ‰ç´¢å¼•ï¼Œæˆ‘ä»¬æ€ä¹ˆæŸ¥è¯¢å‘¢ï¼Œæˆ‘æƒ³æˆ‘ä»¬åªèƒ½è¯»å–æ–‡ä»¶ï¼Œé€è¡Œæ‰«æï¼Œæ‰¾åˆ°ç¬¦åˆçš„ç»“æœã€‚å¦‚æœ æˆ‘ä»¬å†æ¥æŸ¥è¯¢ï¼šSELECT FROM person WHERE ID = 3,é‚£ä¹ˆæœ‰éœ€è¦è¯»å–æ–‡ä»¶ï¼Œé€è¡Œæ‰«æï¼Œè¿™æ ·å­æ•ˆç‡ä¼šç‰¹åˆ«å·®ã€‚è¿™æ—¶å€™å°±éœ€è¦æœ‰ä¸€ç§ä¸œè¥¿å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°é«˜æ•ˆçš„è·å–æ•°æ®ã€‚ç´¢å¼•å°±è¿™ä¹ˆå‡ºç°äº†ã€‚åœ¨è®¨è®ºç´¢å¼•ä¹‹å‰ï¼Œè¿˜è¦è®¨è®ºä¸€ä¸‹åº•å±‚æ–‡ä»¶ç³»ç»Ÿæ˜¯æ€ä¹ˆæ ·è¿›è¡Œè¯»å–ï¼Œå†™å…¥æ•°æ®çš„ã€‚ å¦‚å›¾ä¸€ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œtableè¡¨æ˜¯è¿™ä¹ˆå­˜å‚¨çš„ï¼Œæœ‰ä¸€ä¸ªæ–‡ä»¶åï¼Œæ–‡ä»¶åå¯¹åº”ç€ä¸€ä¸ªä¸‰å…ƒç»„ï¼ˆæŸ±é¢ï¼Œç£é“ï¼Œæ‰‡åŒºï¼‰ï¼Œå½“æˆ‘ä»¬è¦å»è¯»æœºæ¢°ç¡¬ç›˜æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æˆ‘ä»¬çš„æŸ±é¢ï¼Œç£é“å®šä½åˆ°æ‰‡åŒºï¼Œç„¶åæ‰¾åˆ°table.idbå­˜å‚¨åœ¨å›¾å³ç£ç›˜çš„çº¢è‰²åŒºåŸŸå†…ï¼Œè¯»å–æ•°æ®æ—¶ï¼ˆå‡è®¾é¡ºæ—¶é’Ÿï¼‰ï¼Œå°†ä¼šä»Aä¾æ¬¡è¯»åˆ°B,è¿™å°±æ˜¯åŸå§‹å­˜å‚¨å’Œè¯»å–æ–¹å¼ã€‚æ‰€ä»¥å½“æˆ‘ä»¬æ¯æ¬¡æŸ¥æ‰¾çš„æ—¶å€™éƒ½æ˜¯éœ€è¦å¦‚å›¾2 ä¸­ä»Aåˆ°Bçš„æ‰«æè¯»å–ï¼Œæ•ˆç‡å¾ˆä½ã€‚ ç´¢å¼•æ•°æ®ç»“æ„ç´¢å¼•é»˜è®¤ç”¨çš„æ•°æ®ç»“æ„æ˜¯B+æ ‘,ä½œä¸ºå¯¹æ¯”å…ˆèŠèŠHashå’ŒBæ ‘ã€‚ Hash Hashæˆ‘ä»¬çŸ¥é“æ˜¯å¯ä»¥ç®—å‡ºæ¥Hashç®—æ³•ç®—å‡ºä¸€ä¸ªç‰¹å®šçš„ä¸‹æ ‡,æ¥å­˜å‚¨æ•°æ®ã€‚ä½†æ˜¯ä»–é€‚ç”¨äºç‰¹å®šçš„æŸ¥æ‰¾,æ¯”å¦‚æŸ¥æ‰¾æ¡ä»¶ age = 15,ä½†å¦‚æœæŸ¥æ‰¾æ¡ä»¶ age &gt;= 14,é‚£ä¹ˆä»–åªèƒ½é€šè¿‡å…¨è¡¨æ‰«æ,ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„æ•°æ®ã€‚ æ•°æ®é‡å¤§çš„æ—¶å€™Hashçš„ç¢°æ’ä¼šæ¯”è¾ƒä¸¥é‡ã€‚ æ— æ³•è¿›è¡Œç´¢å¼•æ’åº ä¸æ”¯æŒå¤šåˆ—è”åˆç´¢å¼•çš„æœ€å·¦åŒ¹é…è§„åˆ™ Bæ ‘[1]é¦–å…ˆå…ˆç®€å•ä»‹ç»ä¸‹ä»€ä¹ˆå«åšBæ ‘(å¤šè·¯æœç´¢æ ‘),ä¸€å¬åå­—ä¸ºäº†æœç´¢æ•°æ®è€Œç”Ÿçš„,å®ƒä¸ä¸€å®šæ˜¯äºŒå‰çš„å“¦ã€‚ å®šä¹‰éå¶å­èŠ‚ç‚¹çš„ä¸ªæ•°æœ€å¤šä¸ºM,ä¸”M&gt;2 æ ¹èŠ‚ç‚¹çš„å„¿å­æ•°ä¸º[2,M] é™¤æ ¹èŠ‚ç‚¹ä»¥å¤–çš„éå¶å­èŠ‚ç‚¹çš„å„¿å­æ•°é‡[M/2,M] æ¯ä¸€ä¸ªç»“ç‚¹è‡³å°‘å­˜æ”¾ M/2-1(å‘ä¸Šå–æ•´)å’Œæœ€å¤šM-1ä¸ªå…³é”®å­— éå¶å­èŠ‚ç‚¹çš„å…³é”®å­—ä¸ªæ•° = å„¿å­ä¸ªæ•° - 1 éå¶å­èŠ‚ç‚¹å…³é”®å­—:K[1],K[2]â€¦.K[M-1],ä¸”K[n] &lt; K[n+1] éå¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆ:P[1],P[2]â€¦.P[M],ä¸”P[1]æŒ‡å‘çš„å…³é”®å­—å°äºK[1] æ‰€æœ‰å¶å­èŠ‚ç‚¹ä½äºåŒä¸€å±‚ B+æ ‘B+æ ‘æ˜¯Bæ ‘çš„ä¸€ä¸ªæ‰©å±•,æé«˜IOæ€§èƒ½,è§£å†³å…ƒç´ éå†æ•ˆç‡ä½ä¸‹ ä¸Bæ ‘çš„ä¸åŒ æœ‰Mæ£µå­æ ‘çš„éå¶å­ç»“ç‚¹ä¸­å«æœ‰Mä¸ªå…³é”®å­—ï¼ˆbæ ‘æ˜¯M-1ä¸ªï¼‰ï¼Œè¿™äº›å…³é”®å­—ä¸ä¿å­˜æ•°æ®ï¼Œåªç”¨æ¥ç´¢å¼•ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å¶å­èŠ‚ç‚¹ï¼ˆBæ ‘æ˜¯æ¯ä¸ªå…³é”®å­—éƒ½ä¿å­˜æ•°æ®ï¼‰ã€‚ æ‰€æœ‰çš„å¶å­ç»“ç‚¹ä¸­åŒ…å«äº†å…¨éƒ¨å…³é”®å­—çš„ä¿¡æ¯ï¼ŒåŠæŒ‡å‘å«è¿™äº›å…³é”®å­—è®°å½•çš„æŒ‡é’ˆï¼Œä¸”å¶å­ç»“ç‚¹æœ¬èº«ä¾å…³é”®å­—çš„å¤§å°è‡ªå°è€Œå¤§é¡ºåºé“¾æ¥ã€‚ æ‰€æœ‰çš„éå¶å­ç»“ç‚¹å¯ä»¥çœ‹æˆæ˜¯ç´¢å¼•éƒ¨åˆ†ï¼Œç»“ç‚¹ä¸­ä»…å«å…¶å­æ ‘ä¸­çš„æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…³é”®å­—ã€‚ ä¼˜åŠ¿ B+æ ‘çš„ä¸­é—´èŠ‚ç‚¹ä¸ä¿å­˜æ•°æ®ï¼Œæ‰€ä»¥ç£ç›˜é¡µèƒ½å®¹çº³æ›´å¤šèŠ‚ç‚¹å…ƒç´ ï¼Œæ›´â€œçŸ®èƒ–â€ï¼› B+æ ‘æŸ¥è¯¢å¿…é¡»æŸ¥æ‰¾åˆ°å¶å­èŠ‚ç‚¹ï¼ŒBæ ‘åªè¦åŒ¹é…åˆ°å³å¯ä¸ç”¨ç®¡å…ƒç´ ä½ç½®ï¼Œå› æ­¤B+æ ‘æŸ¥æ‰¾æ›´ç¨³å®šï¼ˆå¹¶ä¸æ…¢ï¼‰ï¼› å¯¹äºèŒƒå›´æŸ¥æ‰¾æ¥è¯´ï¼ŒB+æ ‘åªéœ€éå†å¶å­èŠ‚ç‚¹é“¾è¡¨å³å¯ï¼Œbæ ‘å´éœ€è¦é‡å¤åœ°ä¸­åºéå† ç´¢å¼•é¢è¯•é¢˜[2]ç´¢å¼•æ¦‚å¿µã€ç´¢å¼•æ¨¡å‹æˆ‘ä»¬æ˜¯æ€ä¹ˆèŠåˆ°ç´¢å¼•çš„å‘¢ï¼Œæ˜¯å› ä¸ºæˆ‘æåˆ°æˆ‘ä»¬çš„ä¸šåŠ¡é‡æ¯”è¾ƒå¤§ï¼Œæ¯å¤©å¤§æ¦‚æœ‰å‡ ç™¾ä¸‡çš„æ–°æ•°æ®ç”Ÿæˆï¼Œäºæ˜¯æœ‰äº†ä»¥ä¸‹å¯¹è¯ï¼šQï¼šä½ ä»¬æ¯å¤©è¿™ä¹ˆå¤§çš„æ•°æ®é‡ï¼Œéƒ½æ˜¯ä¿å­˜åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­å—ï¼ŸAï¼šæ˜¯çš„ï¼Œæˆ‘ä»¬çº¿ä¸Šä½¿ç”¨çš„æ˜¯MySQLæ•°æ®åº“Qï¼šæ¯å¤©å‡ ç™¾ä¸‡æ•°æ®ï¼Œä¸€ä¸ªæœˆå°±æ˜¯å‡ åƒä¸‡äº†ï¼Œé‚£ä½ ä»¬æœ‰æ²¡æœ‰å¯¹äºæŸ¥è¯¢åšä¸€äº›ä¼˜åŒ–å‘¢ï¼ŸAï¼šæˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­åˆ›å»ºäº†ä¸€äº›ç´¢å¼•ï¼ˆæˆ‘ç°åœ¨éå¸¸åæ‚”æˆ‘å½“æ—¶è¯´äº†è¿™å¥è¯ï¼‰ è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œé˜¿é‡Œçš„é¢è¯•å®˜å¹¶ä¸ä¼šåƒæœ‰ä¸€äº›å…¬å¸ä¸€æ ·æ‹¿ç€é¢˜åº“ä¸€é“ä¸€é“çš„é—®ï¼Œè€Œæ˜¯ä¼šæ ¹æ®é¢è¯•è€…åšè¿‡çš„äº‹æƒ…ä»¥åŠé¢è¯•è¿‡ç¨‹ä¸­çš„ä¸€äº›å†…å®¹è¿›è¡Œå±•å¼€ã€‚ Qï¼šé‚£ä½ èƒ½è¯´è¯´ä»€ä¹ˆæ˜¯ç´¢å¼•å—ï¼ŸAï¼šï¼ˆè¿™é“é¢˜è‚¯å®šéš¾ä¸ä½æˆ‘å•Šï¼‰ç´¢å¼•å…¶å®æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿçš„æ£€ç´¢æ•°æ®åº“ä¸­çš„æ•°æ®Qï¼šé‚£ä¹ˆç´¢å¼•å…·ä½“é‡‡ç”¨çš„å“ªç§æ•°æ®ç»“æ„å‘¢ï¼ŸAï¼šï¼ˆè¿™é“é¢˜æˆ‘ä¹ŸèƒŒè¿‡ï¼‰å¸¸è§çš„MySQLä¸»è¦æœ‰ä¸¤ç§ç»“æ„ï¼šHashç´¢å¼•å’ŒB+ Treeç´¢å¼•ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯InnoDBå¼•æ“ï¼Œé»˜è®¤çš„æ˜¯B+æ ‘ è¿™é‡Œæˆ‘è€äº†ä¸€ä¸ªå°å¿ƒæœºï¼Œç‰¹æ„è¯´äº†ä¸€ä¸‹ç´¢å¼•å’Œå­˜å‚¨å¼•æ“æœ‰å…³ã€‚å¸Œæœ›é¢è¯•å®˜å¯ä»¥é—®æˆ‘ä¸€äº›å…³äºå­˜å‚¨å¼•æ“çš„é—®é¢˜ã€‚ç„¶è€Œé¢è¯•å®˜å¹¶æ²¡æœ‰è¢«æˆ‘å¸¦è·‘â€¦ Qï¼šæ—¢ç„¶ä½ æåˆ°InnoDBä½¿ç”¨çš„B+ æ ‘çš„ç´¢å¼•æ¨¡å‹ï¼Œé‚£ä¹ˆä½ çŸ¥é“ä¸ºä»€ä¹ˆé‡‡ç”¨B+ æ ‘å—ï¼Ÿè¿™å’ŒHashç´¢å¼•æ¯”è¾ƒèµ·æ¥æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹å—ï¼ŸAï¼šï¼ˆçªç„¶è§‰å¾—è¿™é“é¢˜æœ‰ç‚¹éš¾ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å‡­å€Ÿç€è‡ªå·±çš„çŸ¥è¯†å‚¨å¤‡ç®€å•çš„å›ç­”ä¸Šä¸€äº›ï¼‰å› ä¸ºHashç´¢å¼•åº•å±‚æ˜¯å“ˆå¸Œè¡¨ï¼Œå“ˆå¸Œè¡¨æ˜¯ä¸€ç§ä»¥key-valueå­˜å‚¨æ•°æ®çš„ç»“æ„ï¼Œæ‰€ä»¥å¤šä¸ªæ•°æ®åœ¨å­˜å‚¨å…³ç³»ä¸Šæ˜¯å®Œå…¨æ²¡æœ‰ä»»ä½•é¡ºåºå…³ç³»çš„ï¼Œæ‰€ä»¥ï¼Œå¯¹äºåŒºé—´æŸ¥è¯¢æ˜¯æ— æ³•ç›´æ¥é€šè¿‡ç´¢å¼•æŸ¥è¯¢çš„ï¼Œå°±éœ€è¦å…¨è¡¨æ‰«æã€‚æ‰€ä»¥ï¼Œå“ˆå¸Œç´¢å¼•åªé€‚ç”¨äºç­‰å€¼æŸ¥è¯¢çš„åœºæ™¯ã€‚è€ŒB+ æ ‘æ˜¯ä¸€ç§å¤šè·¯å¹³è¡¡æŸ¥è¯¢æ ‘ï¼Œæ‰€ä»¥ä»–çš„èŠ‚ç‚¹æ˜¯å¤©ç„¶æœ‰åºçš„ï¼ˆå·¦å­èŠ‚ç‚¹å°äºçˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å°äºå³å­èŠ‚ç‚¹ï¼‰ï¼Œæ‰€ä»¥å¯¹äºèŒƒå›´æŸ¥è¯¢çš„æ—¶å€™ä¸éœ€è¦åšå…¨è¡¨æ‰«æQï¼šé™¤äº†ä¸Šé¢è¿™ä¸ªèŒƒå›´æŸ¥è¯¢çš„ï¼Œä½ è¿˜èƒ½è¯´å‡ºå…¶ä»–çš„ä¸€äº›åŒºåˆ«å—ï¼ŸAï¼šï¼ˆè¿™ä¸ªé¢˜æˆ‘å›ç­”çš„ä¸å¥½ï¼Œäº‹åç™¾åº¦äº†ä¸€ä¸‹ï¼‰B+ Treeç´¢å¼•å’ŒHashç´¢å¼•åŒºåˆ«ï¼Ÿ å“ˆå¸Œç´¢å¼•é€‚åˆç­‰å€¼æŸ¥è¯¢ï¼Œä½†æ˜¯æ— æ³•è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ å“ˆå¸Œç´¢å¼•æ²¡åŠæ³•åˆ©ç”¨ç´¢å¼•å®Œæˆæ’åº å“ˆå¸Œç´¢å¼•ä¸æ”¯æŒå¤šåˆ—è”åˆç´¢å¼•çš„æœ€å·¦åŒ¹é…è§„åˆ™ å¦‚æœæœ‰å¤§é‡é‡å¤é”®å€¼çš„æƒ…å†µä¸‹ï¼Œå“ˆå¸Œç´¢å¼•çš„æ•ˆç‡ä¼šå¾ˆä½ï¼Œå› ä¸ºå­˜åœ¨å“ˆå¸Œç¢°æ’é—®é¢˜ èšç°‡ç´¢å¼•ã€è¦†ç›–ç´¢å¼•Qï¼šåˆšåˆšæˆ‘ä»¬èŠåˆ°B+ Tree ï¼Œé‚£ä½ çŸ¥é“B+ Treeçš„å¶å­èŠ‚ç‚¹éƒ½å¯ä»¥å­˜å“ªäº›ä¸œè¥¿å—ï¼ŸAï¼šInnoDBçš„B+ Treeå¯èƒ½å­˜å‚¨çš„æ˜¯æ•´è¡Œæ•°æ®ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸»é”®çš„å€¼Qï¼šé‚£è¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼ŸAï¼šï¼ˆå½“ä»–é—®æˆ‘å¶å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå…¶å®æˆ‘å°±çŒœåˆ°ä»–å¯èƒ½è¦é—®æˆ‘èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•äº†ï¼‰åœ¨ InnoDB é‡Œï¼Œç´¢å¼•B+ Treeçš„å¶å­èŠ‚ç‚¹å­˜å‚¨äº†æ•´è¡Œæ•°æ®çš„æ˜¯ä¸»é”®ç´¢å¼•ï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºèšç°‡ç´¢å¼•ã€‚è€Œç´¢å¼•B+ Treeçš„å¶å­èŠ‚ç‚¹å­˜å‚¨äº†ä¸»é”®çš„å€¼çš„æ˜¯éä¸»é”®ç´¢å¼•ï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºéèšç°‡ç´¢å¼•Qï¼šé‚£ä¹ˆï¼Œèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢æ•°æ®çš„æ—¶å€™æœ‰åŒºåˆ«å—ï¼ŸAï¼šèšç°‡ç´¢å¼•æŸ¥è¯¢ä¼šæ›´å¿«ï¼ŸQï¼šä¸ºä»€ä¹ˆå‘¢ï¼ŸAï¼šå› ä¸ºä¸»é”®ç´¢å¼•æ ‘çš„å¶å­èŠ‚ç‚¹ç›´æ¥å°±æ˜¯æˆ‘ä»¬è¦æŸ¥è¯¢çš„æ•´è¡Œæ•°æ®äº†ã€‚è€Œéä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹æ˜¯ä¸»é”®çš„å€¼ï¼ŒæŸ¥åˆ°ä¸»é”®çš„å€¼ä»¥åï¼Œè¿˜éœ€è¦å†é€šè¿‡ä¸»é”®çš„å€¼å†è¿›è¡Œä¸€æ¬¡æŸ¥è¯¢Qï¼šåˆšåˆšä½ æåˆ°ä¸»é”®ç´¢å¼•æŸ¥è¯¢åªä¼šæŸ¥ä¸€æ¬¡ï¼Œè€Œéä¸»é”®ç´¢å¼•éœ€è¦å›è¡¨æŸ¥è¯¢å¤šæ¬¡ã€‚ï¼ˆåæ¥æˆ‘æ‰çŸ¥é“ï¼ŒåŸæ¥è¿™ä¸ªè¿‡ç¨‹å«åšå›è¡¨ï¼‰æ˜¯æ‰€æœ‰æƒ…å†µéƒ½æ˜¯è¿™æ ·çš„å—ï¼Ÿéä¸»é”®ç´¢å¼•ä¸€å®šä¼šæŸ¥è¯¢å¤šæ¬¡å—ï¼ŸAï¼šï¼ˆé¢ã€è¿™ä¸ªé—®é¢˜æˆ‘å›ç­”çš„ä¸å¥½ï¼Œåæ¥æˆ‘è‡ªå·±æŸ¥èµ„æ–™æ‰çŸ¥é“ï¼Œé€šè¿‡è¦†ç›–ç´¢å¼•ä¹Ÿå¯ä»¥åªæŸ¥è¯¢ è¦†ç›–ç´¢å¼•ï¼Ÿè¦†ç›–ç´¢å¼•ï¼ˆcovering indexï¼‰æŒ‡ä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œåªç”¨ä»ç´¢å¼•ä¸­å°±èƒ½å¤Ÿå–å¾—ï¼Œä¸å¿…ä»æ•°æ®è¡¨ä¸­è¯»å–ã€‚ä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå®ç°äº†ç´¢å¼•è¦†ç›–ã€‚å½“ä¸€æ¡æŸ¥è¯¢è¯­å¥ç¬¦åˆè¦†ç›–ç´¢å¼•æ¡ä»¶æ—¶ï¼ŒMySQLåªéœ€è¦é€šè¿‡ç´¢å¼•å°±å¯ä»¥è¿”å›æŸ¥è¯¢æ‰€éœ€è¦çš„æ•°æ®ï¼Œè¿™æ ·é¿å…äº†æŸ¥åˆ°ç´¢å¼•åå†è¿”å›è¡¨æ“ä½œï¼Œå‡å°‘I/Oæé«˜æ•ˆç‡ã€‚å¦‚ï¼Œè¡¨covering_index_sampleä¸­æœ‰ä¸€ä¸ªæ™®é€šç´¢å¼• idx_key1_key2(key1,key2)ã€‚å½“æˆ‘ä»¬é€šè¿‡SQLè¯­å¥ï¼šselect key2 from covering_index_sample where key1 = â€˜keytestâ€™;çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡è¦†ç›–ç´¢å¼•æŸ¥è¯¢ï¼Œæ— éœ€å›è¡¨ã€‚ è”åˆç´¢å¼•ã€æœ€å·¦å‰ç¼€åŒ¹é…Qï¼šä¸çŸ¥é“çš„è¯æ²¡å…³ç³»ï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œä½ ä»¬åœ¨åˆ›å»ºç´¢å¼•çš„æ—¶å€™éƒ½ä¼šè€ƒè™‘å“ªäº›å› ç´ å‘¢ï¼ŸAï¼šæˆ‘ä»¬ä¸€èˆ¬å¯¹äºæŸ¥è¯¢æ¦‚ç‡æ¯”è¾ƒé«˜ï¼Œç»å¸¸ä½œä¸ºwhereæ¡ä»¶çš„å­—æ®µè®¾ç½®ç´¢å¼•Qï¼š é‚£ä½ ä»¬æœ‰ç”¨è¿‡è”åˆç´¢å¼•å—ï¼ŸAï¼šç”¨è¿‡å‘€ï¼Œæˆ‘ä»¬æœ‰å¯¹ä¸€äº›è¡¨ä¸­åˆ›å»ºè¿‡è”åˆç´¢å¼•Qï¼šé‚£ä½ ä»¬åœ¨åˆ›å»ºè”åˆç´¢å¼•çš„æ—¶å€™ï¼Œéœ€è¦åšè”åˆç´¢å¼•å¤šä¸ªå­—æ®µä¹‹é—´é¡ºåºä½ ä»¬æ˜¯å¦‚ä½•é€‰æ‹©çš„å‘¢ï¼ŸAï¼šæˆ‘ä»¬æŠŠè¯†åˆ«åº¦æœ€é«˜çš„å­—æ®µæ”¾åˆ°æœ€å‰é¢Qï¼šä¸ºä»€ä¹ˆè¿™ä¹ˆåšå‘¢ï¼ŸAï¼šï¼ˆè¿™ä¸ªé—®é¢˜æœ‰ç‚¹æŠŠæˆ‘é—®è’™äº†ï¼Œç¨å¾®æœ‰äº›æ…Œä¹±ï¼‰è¿™æ ·çš„è¯å¯èƒ½å‘½ä¸­ç‡ä¼šé«˜ä¸€ç‚¹å§ã€‚ã€‚ã€‚Qï¼š é‚£ä½ çŸ¥é“æœ€å·¦å‰ç¼€åŒ¹é…å—ï¼ŸAï¼šï¼ˆæˆ‘çªç„¶æƒ³èµ·æ¥åŸæ¥é¢è¯•å®˜æ˜¯æƒ³é—®è¿™ä¸ªï¼Œæ€ªè‡ªå·±åˆšåˆšä¸ºä»€ä¹ˆå°±æ²¡æƒ³åˆ°è¿™ä¸ªå‘¢ã€‚ï¼‰å“¦å“¦å“¦ã€‚æ‚¨åˆšåˆšé—®çš„æ˜¯è¿™ä¸ªæ„æ€å•Šï¼Œåœ¨åˆ›å»ºå¤šåˆ—ç´¢å¼•æ—¶ï¼Œæˆ‘ä»¬æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œwhereå­å¥ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„ä¸€åˆ—æ”¾åœ¨æœ€å·¦è¾¹ï¼Œå› ä¸ºMySQLç´¢å¼•æŸ¥è¯¢ä¼šéµå¾ªæœ€å·¦å‰ç¼€åŒ¹é…çš„åŸåˆ™ï¼Œå³æœ€å·¦ä¼˜å…ˆï¼Œåœ¨æ£€ç´¢æ•°æ®æ—¶ä»è”åˆç´¢å¼•çš„æœ€å·¦è¾¹å¼€å§‹åŒ¹é…ã€‚æ‰€ä»¥å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè”åˆç´¢å¼•çš„æ—¶å€™ï¼Œå¦‚(key1,key2,key3)ï¼Œç›¸å½“äºåˆ›å»ºäº†ï¼ˆkey1ï¼‰ã€(key1,key2)å’Œ(key1,key2,key3)ä¸‰ä¸ªç´¢å¼•ï¼Œè¿™å°±æ˜¯æœ€å·¦åŒ¹é…åŸåˆ™ ç´¢å¼•ä¸‹æ¨ã€æŸ¥è¯¢ä¼˜åŒ–Qï¼šä½ ä»¬çº¿ä¸Šç”¨çš„MySQLæ˜¯å“ªä¸ªç‰ˆæœ¬å•Šå‘¢ï¼ŸAï¼šæˆ‘ä»¬MySQLæ˜¯5.7Qï¼šé‚£ä½ çŸ¥é“åœ¨MySQL 5.6ä¸­ï¼Œå¯¹ç´¢å¼•åšäº†å“ªäº›ä¼˜åŒ–å—ï¼ŸAï¼šä¸å¥½æ„æ€ï¼Œè¿™ä¸ªæˆ‘æ²¡æœ‰å»äº†è§£è¿‡ã€‚ï¼ˆäº‹åæˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œæœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ ï¼šIndex Condition Pushdown Optimizationï¼‰ æŸ¥è¯¢ä¼˜åŒ–å™¨ï¼Ÿä¸€æ¡SQLè¯­å¥çš„æŸ¥è¯¢ï¼Œå¯ä»¥æœ‰ä¸åŒçš„æ‰§è¡Œæ–¹æ¡ˆï¼Œè‡³äºæœ€ç»ˆé€‰æ‹©å“ªç§æ–¹æ¡ˆï¼Œéœ€è¦é€šè¿‡ä¼˜åŒ–å™¨è¿›è¡Œé€‰æ‹©ï¼Œé€‰æ‹©æ‰§è¡Œæˆæœ¬æœ€ä½çš„æ–¹æ¡ˆã€‚åœ¨ä¸€æ¡å•è¡¨æŸ¥è¯¢è¯­å¥çœŸæ­£æ‰§è¡Œä¹‹å‰ï¼ŒMySQLçš„æŸ¥è¯¢ä¼˜åŒ–å™¨ä¼šæ‰¾å‡ºæ‰§è¡Œè¯¥è¯­å¥æ‰€æœ‰å¯èƒ½ä½¿ç”¨çš„æ–¹æ¡ˆï¼Œå¯¹æ¯”ä¹‹åæ‰¾å‡ºæˆæœ¬æœ€ä½çš„æ–¹æ¡ˆã€‚è¿™ä¸ªæˆæœ¬æœ€ä½çš„æ–¹æ¡ˆå°±æ˜¯æ‰€è°“çš„æ‰§è¡Œè®¡åˆ’ã€‚ä¼˜åŒ–è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š1ã€æ ¹æ®æœç´¢æ¡ä»¶ï¼Œæ‰¾å‡ºæ‰€æœ‰å¯èƒ½ä½¿ç”¨çš„ç´¢å¼•2ã€è®¡ç®—å…¨è¡¨æ‰«æçš„ä»£ä»·3ã€è®¡ç®—ä½¿ç”¨ä¸åŒç´¢å¼•æ‰§è¡ŒæŸ¥è¯¢çš„ä»£ä»·4ã€å¯¹æ¯”å„ç§æ‰§è¡Œæ–¹æ¡ˆçš„ä»£ä»·ï¼Œæ‰¾å‡ºæˆæœ¬æœ€ä½çš„é‚£ä¸€ä¸ª æ„Ÿè§‰æ˜¯å› ä¸ºæˆ‘å›ç­”çš„ä¸å¤Ÿå¥½ï¼Œå¦‚æœè¿™å‡ ä¸ªç´¢å¼•é—®é¢˜æˆ‘éƒ½ä¼šçš„è¯ï¼Œä»–è¿˜ä¼šè¿½é—®æ›´å¤šï¼Œææ€•ä¼šè¢«è™çš„æ›´æƒ¨ æ€»ç»“&amp;æ„Ÿæ‚Ÿä»¥ä¸Šï¼Œå°±æ˜¯ä¸€æ¬¡é¢è¯•ä¸­å…³äºç´¢å¼•éƒ¨åˆ†çŸ¥è¯†çš„é—®é¢˜ä»¥åŠæˆ‘æ•´ç†çš„ç­”æ¡ˆã€‚æ„Ÿè§‰è¿™æ¬¡é¢è¯•è¿‡ç¨‹ä¸­å…³äºç´¢å¼•çš„çŸ¥è¯†ï¼Œè‡ªå·±å¤§æ¦‚èƒ½å¤Ÿå›ç­”çš„å†…å®¹å 70%å·¦å³ï¼Œä½†æ˜¯è‡ªä¿¡å®Œå…¨ç­”å¯¹çš„å†…å®¹åªå 50%å·¦å³ï¼Œçœ‹æ¥è‡ªå·±ç´¢å¼•æœ‰å…³çš„çŸ¥è¯†äº†è§£çš„è¿˜æ˜¯ä¸å¤Ÿå¤šã€‚ é€šè¿‡è¿™æ¬¡é¢è¯•ï¼Œå‘ç°åƒé˜¿é‡Œè¿™ç§å¤§å‚å¯¹äºåº•å±‚çŸ¥è¯†è¿˜æ˜¯æ¯”è¾ƒçœ‹é‡çš„ï¼Œæˆ‘ä»¥å‰ä»¥ä¸ºå…³äºç´¢å¼•æœ€å¤šä¹Ÿå°±é—®ä¸€ä¸‹Hashå’ŒB+æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ²¡æƒ³åˆ°æœ€åéƒ½èƒ½é—®åˆ°æŸ¥è¯¢ä¼˜åŒ–å™¨ä¸Šé¢ã€‚ æœ€åï¼Œä¸ç®¡æœ¬æ¬¡é¢è¯•èƒ½ä¸èƒ½é€šè¿‡ï¼Œéƒ½éå¸¸æ„Ÿè°¢æœ‰è¿™æ ·ä¸€æ¬¡æœºä¼šï¼Œå¯ä»¥è®©è‡ªå·±çœ‹åˆ°è‡ªå·±çš„ä¸è¶³ã€‚é€šè¿‡è¿™æ¬¡é¢è¯•ï¼Œæˆ‘ä¹Ÿæ”¶è·äº†å¾ˆå¤šä¸œè¥¿ã€‚åŠ æ²¹ï¼ å¼•ç”¨èµ„æ–™[1] Object_PigMan https://blog.csdn.net/javawcj123/article/details/79824020[2] Hollis https://mp.weixin.qq.com/s/_bk2JVOm2SkXfdcvki6-0w","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}],"tags":[],"keywords":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}]},{"title":"ã€MYSQLã€‘äº‹åŠ¡ç¯‡","slug":"mianshi/mysql/shiwu","date":"2021-02-19T00:11:22.000Z","updated":"2021-02-19T13:22:27.533Z","comments":false,"path":"2021/02/19/mianshi/mysql/shiwu/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/19/mianshi/mysql/shiwu/","excerpt":"","text":"äº‹åŠ¡å››å¤§ç‰¹æ€§(ACID)é¦–å…ˆå…ˆæ¥äº†è§£ä¸‹ä»€ä¹ˆå«ä½œäº‹åŠ¡,ä¸€èˆ¬æ¥è¯´ä¸€ä¸ªäº‹åŠ¡å¯¹åº”ç€ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡,ä¸¾ä¸ªæœ€å¸¸è§çš„æ —å­(æƒ³å¿µä¸‹æ²™ä¸¾ä¸ªæ —å­çš„ç¬¬Nå¤©)ä¸€ä¸ªé“¶è¡Œè½¬è´¦å°±æ˜¯èƒ½ä»£è¡¨ç€ä¸€ä¸ªäº‹åŠ¡ï¼šå¼ ä¸‰ è½¬ç»™æå››1000 å—é’±,é¦–å…ˆä»å¼ ä¸‰çš„è´¦æˆ·æ‰£ 1000 å—é’±,å†åŠ ç»™æå››çš„è´¦æˆ·åŠ  1000 å—é’±ã€‚ åŸå­æ€§ä¸€ç•ªæ“ä½œåæ˜¾ç¤ºâ€œè½¬è´¦æˆåŠŸâ€å¹¶æ‰£äº†é’±,æ‰“ç»™æå››è¯¢é—®æƒ…å†µ,æå››è¿˜æ²¡æœ‰æ”¶åˆ°å¼ ä¸‰çš„é’±ï¼Œè€Œå¼ ä¸‰å¤šæ‰£äº† 1000 å—é’±,å¼ ä¸‰è¿™å°‘é’±äº†ä¸å¾—æ¥é“¶è¡Œé—¨å£é—¹å˜›! è¿™å°±è¯´åˆ°äº†äº‹åŠ¡çš„ç¬¬ä¸€ä¸ªç‰¹æ€§ï¼šåŸå­æ€§,ä¿è¯å…±åŒæˆåŠŸæˆ–å…±åŒå¤±è´¥,ä¸ä¼šå‡ºç°ä¸€ä¸ªæˆåŠŸ,ä¸€ä¸ªå¤±è´¥çš„æƒ…å†µã€‚ ä¸€è‡´æ€§å¼ ä¸‰ æ¥åˆ°äº†é“¶è¡Œé—¨å£åˆšå‡†å¤‡é—¹,ç»ç†æŠŠä»–æ‹¦äº†ä¸‹æ¥è¯´ï¼šâ€œè¿™æ¬¡æˆ‘ä»¬å·²ç»æŠŠå†™è¿™ä¸ªBUGç¨‹åºå‘˜ç¥­å¤©äº†,é’±ç»™æ‚¨é€€å›æ¥äº†ã€‚â€å¼ ä¸‰åˆå¼€å§‹äº†è½¬è´¦æ“ä½œ,ç»™æå››åˆè½¬è´¦äº† 1000 å—é’±,è¿™æ¬¡æˆåŠŸè½¬è¿‡å»äº†,å¼ ä¸‰æ‰“ç”µè¯å‘ŠçŸ¥æå››æ²¡æƒ³åˆ°è¢«æå››ä¸€é¡¿è‡­éª‚:â€œä½ å°å­**æ˜¯ä¸æ˜¯ç©æˆ‘,ç»™æˆ‘è½¬ä¸ª 250 æ˜¯åœ¨éª‚æˆ‘ï¼ï¼â€ã€‚ è¿™å°±æ˜¯äº‹åŠ¡çš„ç¬¬äºŒä¸ªç‰¹æ€§ï¼šä¸€è‡´æ€§,ç¡®ä¿çŠ¶æ€ä¸€è‡´çš„ã€‚è½¬è´¦æœåŠ¡ä¸­è½¬å‡ºè´¦æˆ·çš„æ‰£é™¤é‡‘é¢ä¸è½¬å…¥è´¦æˆ·çš„è½¬å…¥é‡‘é¢å¿…é¡»ä¿æŒä¸€è‡´ã€‚ éš”ç¦»æ€§å¼ ä¸‰ åˆæ‰¾åˆ°äº†é“¶è¡Œç»ç†, æ°”æ€¥è´¥ååœ°åˆšå‡†å¤‡å¼€å§‹è®²ä¼˜ç¾çš„ä¸­å›½è¯, åªè§å¤©æ°”çªå˜, ä¸€ä¸ªæ²¡æœ‰ä»€ä¹ˆå¤´å‘çš„ç”·å­æœå¤©é£å»,ç»ç†è¯´ï¼šâ€œå†™å‡ºè¿™ä¸ªBUGçš„ç¨‹åºå‘˜ä¹Ÿè¢«ç¥­å¤©äº†,è¿™æ¬¡è‚¯å®šä¹Ÿæ²¡æœ‰é—®é¢˜â€ã€‚å¼ ä¸‰åœ¨æ“ä½œçš„åŒæ—¶ç‹äº”ç»™ä»–è½¬äº†500å—é’±,è¯»åˆ°çš„æ˜¯æ‰£äº†1000å—é’±çš„è´¦æˆ·ä½™é¢,ä½†æ˜¯è½¬ç»™æå››çš„æ—¶å€™è´¦å·å†™é”™äº†,å¯¼è‡´æ²¡æœ‰è½¬è¿‡å»,æŠŠè´¦æˆ·ä½™é¢åŸæ ·,ä½†ç‹äº”è½¬è´¦æ“ä½œè¿˜æ˜¯ä»æ‰£1000å—é’±çš„åŸºç¡€ä¸ŠåŠ äº†500,å¼ ä¸‰å‘ç°è‡ªå·±è½¬è´¦é’±æ²¡æœ‰æ”¶åˆ°,è¿˜å¹³ç™½æ— æ•…å°‘äº†500å—é’±,,ç»ç†æ€¥å¿™è¿‡æ¥è¯´:â€œå•Šå•Šå•Š,ä¸å¥½æ„æ€,æˆ‘ä»¬åˆå‡ºé—®é¢˜äº†,è¿™å°±æ‹¿ç¨‹åºå‘˜ç¥­å¤©ã€‚â€ è¿™å°±æ˜¯äº‹åŠ¡çš„ç¬¬ä¸‰ä¸ªç‰¹æ€§ï¼šéš”ç¦»æ€§,é’ˆå¯¹å¹¶å‘äº‹åŠ¡è€Œè¨€ï¼Œäº‹åŠ¡å¿…é¡»åœ¨ä¸å¹²æ‰°å…¶ä»–è¿›ç¨‹æˆ–äº‹åŠ¡çš„å‰æä¸‹ç‹¬ç«‹æ‰§è¡Œï¼Œè¿™ä¸ªä¾‹å­ä¸­å‡ºç°äº†è„è¯»ç‹äº”è½¬è¿›æ¥æˆåŠŸäº†,ä½†æ˜¯ æŒä¹…æ€§åˆåˆåˆä¸€æ¬¡æ“ä½œå,å¼ ä¸‰ç»ˆäºæŠŠé’±æ­£å¸¸çš„è½¬ç»™äº†æå››,æŸ¥è¯¢äº†è®°å½•è¿™æ¬¡è‚¯å®šæ²¡æœ‰é”™ã€‚ è¿™å°±æ˜¯äº‹åŠ¡çš„ç¬¬å››ä¸ªç‰¹æ€§ï¼šæŒä¹…æ€§,å¯¹æ•°æ®æ‰€ä½œçš„æ‰€æœ‰æ”¹åŠ¨éƒ½å¿…é¡»åœ¨äº‹åŠ¡æˆåŠŸç»“æŸå‰ä¿å­˜è‡³æŸç§ç‰©ç†å­˜å‚¨è®¾å¤‡ã€‚è¿™æ ·å¯ä»¥ä¿è¯ï¼Œæ‰€ä½œçš„ä¿®æ”¹åœ¨ä»»ä½•ç³»ç»Ÿç˜«ç—ªæ—¶ä¸è‡³äºä¸¢å¤±ã€‚ é”å…±äº«é”(S)è¯»é”ï¼šäº‹åŠ¡Aå¯¹æ•°æ®å¯¹è±¡åŠ Sé”çš„æ—¶å€™ï¼ŒAå’Œå…¶ä»–çš„äº‹åŠ¡èƒ½åŠ Sé”ï¼Œä½†éƒ½åªèƒ½è¯»ï¼Œä¹Ÿä¸èƒ½åŠ Xé” æ’ä»–é”(X)è¯»å†™é”ï¼šäº‹åŠ¡AåŠ äº†å¯¹è±¡Xé”åï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½åŠ ä»»ä½•é”ï¼Œç›´åˆ°Aé‡Šæ”¾ äº‹åŠ¡é”™è¯¯æƒ…å†µ è„è¯»ï¼šäº‹åŠ¡Aè¯»åˆ°äº†äº‹åŠ¡Bæœªæäº¤çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼šäº‹åŠ¡Bæ‰§è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹äº†æ•°æ®Xï¼Œåœ¨æœªæäº¤å‰ï¼Œäº‹åŠ¡Aè¯»å–äº†Xï¼Œè€Œäº‹åŠ¡Bå´å›æ»šäº†ï¼Œè¿™æ ·äº‹åŠ¡Aå°±å½¢æˆäº†è„è¯»ã€‚ ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡Aç¬¬ä¸€æ¬¡æŸ¥è¯¢å¾—åˆ°ä¸€è¡Œè®°å½•row1ï¼Œäº‹åŠ¡Bæäº¤ä¿®æ”¹åï¼Œäº‹åŠ¡Aç¬¬äºŒæ¬¡æŸ¥è¯¢å¾—åˆ°row1ï¼Œä½†åˆ—å†…å®¹å‘ç”Ÿäº†å˜åŒ–(æ•°æ®ä¿®æ”¹)ã€‚ å¹»è¯»ï¼šäº‹åŠ¡Aé¦–å…ˆæ ¹æ®æ¡ä»¶ç´¢å¼•å¾—åˆ°Næ¡æ•°æ®ï¼Œç„¶åäº‹åŠ¡Bæ”¹å˜äº†è¿™Næ¡æ•°æ®ä¹‹å¤–çš„Mæ¡æˆ–è€…å¢æ·»äº†Mæ¡ç¬¦åˆäº‹åŠ¡Aæœç´¢æ¡ä»¶çš„æ•°æ®ï¼Œå¯¼è‡´äº‹åŠ¡Aå†æ¬¡æœç´¢å‘ç°æœ‰N+Mæ¡æ•°æ®äº†ï¼Œå°±äº§ç”Ÿäº†å¹»è¯»(æ•°æ®å¢åŠ )ã€‚ éš”ç¦»çº§åˆ« ç»“è¯­æ„¿ä¸–ç•Œå’Œå¹³ã€æ°¸æ— bug","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}],"tags":[],"keywords":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}]},{"title":"ã€ç”Ÿåƒ»å­—ã€‘ï¼ˆè®¡ç®—æœºç‰ˆï¼‰è®¡ç®—æœºç³»äººéª„å‚²åœ°æŠŠå¤´æŠ¬èµ·","slug":"yule/jisuanji","date":"2021-02-17T13:47:59.000Z","updated":"2021-02-19T01:43:57.662Z","comments":false,"path":"2021/02/17/yule/jisuanji/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/17/yule/jisuanji/","excerpt":"","text":"æ¥è‡ªbilibiliè§†é¢‘å¼•ç”¨ Upä¸»ï¼šæ´¾ä¸‰å”iPython3","categories":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}],"tags":[],"keywords":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}]},{"title":"ã€æ´¾å¤§æ˜Ÿçš„ç‹¬ç™½ã€‘ä¸€ä¸ªå…³äºæ­£å¸¸äººçš„æ•…äº‹","slug":"yule/paidaxin","date":"2021-02-17T13:47:59.000Z","updated":"2021-02-19T01:43:57.846Z","comments":false,"path":"2021/02/17/yule/paidaxin/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/17/yule/paidaxin/","excerpt":"","text":"æ¥è‡ªbilibiliè§†é¢‘å¼•ç”¨ Upä¸»ï¼šæ´›æ¸©é˜¿ç‰¹é‡‘æ£®","categories":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}],"tags":[],"keywords":[{"name":"å¨±ä¹","slug":"å¨±ä¹","permalink":"https://lennuo.github.io/PersonalBlog/categories/å¨±ä¹/"}]},{"title":"ã€é›†åˆã€‘HashMap","slug":"mianshi/collection/hashmap","date":"2021-02-16T12:11:22.000Z","updated":"2021-02-19T11:12:24.514Z","comments":false,"path":"2021/02/16/mianshi/collection/hashmap/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/16/mianshi/collection/hashmap/","excerpt":"","text":"HashMapå­˜å‚¨ç»“æ„JDK1.7åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„+é“¾è¡¨ JDK.1.8åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ PUTæ–¹æ³•[1] æ‰©å®¹æœºåˆ¶é»˜è®¤å¤§å°ä¸º16,æœ€å¤§çš„å®¹é‡æ˜¯2^30,é»˜è®¤å› å­0.75 static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30; static final float DEFAULT_LOAD_FACTOR = 0.75f; ä¾‹å¦‚ï¼š16*0.75=12ï¼Œé»˜è®¤åˆ›å»ºä¸€ä¸ªmapå¯¹è±¡æ•°ç»„å¤§å°æ˜¯16ï¼Œå½“mapæ·»åŠ 12ä¸ªå…ƒç´ åˆ°çš„æ—¶å€™å°±å‘ç”Ÿæ‰©å®¹ï¼Œ åˆ›å»ºæ–°çš„æ•°ç»„çš„å¤§å°2*16=32ï¼Œç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½® HashMapçš„å®¹é‡ä¸ºä»€ä¹ˆæ˜¯2çš„næ¬¡å¹‚ï¼Œå’Œè¿™ä¸ª(n - 1) &amp; hashçš„è®¡ç®—æ–¹æ³•æœ‰ç€åƒä¸ä¸‡ç¼•çš„å…³ç³»ï¼Œç¬¦å·&amp; æ˜¯æŒ‰ä½ä¸çš„è®¡ç®—ï¼Œè¿™æ˜¯ä½è¿ç®—ï¼Œè®¡ç®—æœºèƒ½ç›´æ¥è¿ç®—ï¼Œç‰¹åˆ«é«˜æ•ˆï¼ŒæŒ‰ä½ä¸&amp;çš„è®¡ç®—æ–¹æ³•æ˜¯ï¼Œåªæœ‰å½“å¯¹åº”ä½ ç½®çš„æ•°æ®éƒ½ä¸º1æ—¶ï¼Œè¿ç®—ç»“æœä¹Ÿä¸º1ï¼Œå½“HashMapçš„å®¹é‡æ˜¯2çš„næ¬¡å¹‚æ—¶ï¼Œ(n-1)çš„2è¿›åˆ¶ä¹Ÿå°±æ˜¯1111111***111 è¿™æ ·å½¢å¼çš„ï¼Œè¿™æ ·ä¸æ·»åŠ å…ƒç´ çš„hashå€¼è¿›è¡Œä½è¿ç®—æ—¶ï¼Œèƒ½å¤Ÿå……åˆ†çš„æ•£åˆ—ï¼Œä½¿å¾—æ·»åŠ çš„å…ƒç´ å‡åŒ€åˆ†å¸ƒåœ¨HashMap çš„æ¯ä¸ªä½ç½®ä¸Šï¼Œå‡å°‘hashç¢°æ’[2] ä»ä»£ç å¯ä»¥çœ‹åˆ°æ‰©å®¹å°±æ˜¯transfer()æ–¹æ³•ä¸­ç”¨ä¸€ä¸ªå®¹é‡æ›´å¤§çš„æ•°ç»„æ¥ä»£æ›¿åŸæœ‰çš„æ•°ç»„ void resize(int newCapacity) { //ä¼ å…¥æ–°çš„å®¹é‡ Entry[] oldTable = table; //å¼•ç”¨æ‰©å®¹å‰çš„Entryæ•°ç»„ int oldCapacity = oldTable.length; if (oldCapacity == MAXIMUM_CAPACITY) { //æ‰©å®¹å‰çš„æ•°ç»„å¤§å°å¦‚æœå·²ç»è¾¾åˆ°æœ€å¤§(2^30)äº† threshold = Integer.MAX_VALUE; //ä¿®æ”¹é˜ˆå€¼ä¸ºintçš„æœ€å¤§å€¼(2^31-1)ï¼Œè¿™æ ·ä»¥åå°±ä¸ä¼šæ‰©å®¹äº† return; } Entry[] newTable = new Entry[newCapacity]; //åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„Entryæ•°ç»„ transfer(newTable); //ï¼ï¼å°†æ•°æ®è½¬ç§»åˆ°æ–°çš„Entryæ•°ç»„é‡Œ table = newTable; //HashMapçš„tableå±æ€§å¼•ç”¨æ–°çš„Entryæ•°ç»„ threshold = (int)(newCapacity * loadFactor);//ä¿®æ”¹é˜ˆå€¼ } void transfer(Entry[] newTable) { Entry[] src = table; //srcå¼•ç”¨äº†æ—§çš„Entryæ•°ç»„ int newCapacity = newTable.length; for (int j = 0; j &lt; src.length; j++) { //éå†æ—§çš„Entryæ•°ç»„ Entry&lt;K,V&gt; e = src[j]; //å–å¾—æ—§Entryæ•°ç»„çš„æ¯ä¸ªå…ƒç´  if (e != null) { src[j] = null;//é‡Šæ”¾æ—§Entryæ•°ç»„çš„å¯¹è±¡å¼•ç”¨ï¼ˆforå¾ªç¯åï¼Œæ—§çš„Entryæ•°ç»„ä¸å†å¼•ç”¨ä»»ä½•å¯¹è±¡ï¼‰ do { Entry&lt;K,V&gt; next = e.next; int i = indexFor(e.hash, newCapacity); //ï¼ï¼é‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½® e.next = newTable[i]; //æ ‡è®°[1] newTable[i] = e; //å°†å…ƒç´ æ”¾åœ¨æ•°ç»„ä¸Š e = next; //è®¿é—®ä¸‹ä¸€ä¸ªEntryé“¾ä¸Šçš„å…ƒç´  } while (e != null); } } } JDK1.7ä½¿ç”¨çš„å¤´æ’æ³•(å…ˆè¿›åå‡ºâ€“æ ˆ),ä½œè€…ä¸€å¼€å§‹çš„æ—¶å€™ä»¥ä¸ºå…ˆè¿›æ¥çš„æ•°æ®è‚¯å®šä¼šå…ˆç”¨åˆ°,ä½†æ˜¯å¤´æ’æ³•æœ‰ä¸€ä¸ªé—®é¢˜ä¾‹(A-&gt;B-&gt;C) é‚£ä¹ˆæ’å…¥é¡ºåºå°±æ˜¯C-B-A å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰©å®¹çš„æ—¶å€™,é‚£ä¹ˆAå…ˆå¼¹å‡ºå»,æ¥ç€æ˜¯B,å¯èƒ½ä¼šæ˜¯AåŒä¸€ä¸ªä½ç½®,å› ä¸ºå¤´æ’æ³•é‚£ä¹ˆå°±ä¼šå¯¼è‡´B-&gt;A,å½¢æˆäº†æ­»é“¾ JDK1.8ä½¿ç”¨äº†å°¾æ’æ³•(å…ˆè¿›å…ˆå‡ºâ€“é˜Ÿåˆ—)è¿˜æ˜¯åŒæ ·çš„ä¾‹å­(A-&gt;B-&gt;C),é»˜è®¤é¡ºåºæ˜¯(A-B-C),å°±ä¸ä¼šå‡ºç°æ­»é“¾é—®é¢˜. å½“ç„¶HashMapæœ¬èº«è¿˜æ˜¯ä¸å®Œå…¨çš„,ä»–æ²¡æœ‰é”çš„ä¿æŠ¤.çº¿ç¨‹å®‰å…¨å½“ç„¶è¿˜è¦çœ‹HashTableå’ŒConcurrentHashMap å¼•ç”¨èµ„æ–™[1] neverç–¯ https://blog.csdn.net/qq_40574571/article/details/97612100[2] çŒ¿äººå°éƒ‘ https://blog.csdn.net/Apeopl/article/details/88935422","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}],"tags":[],"keywords":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}]},{"title":"ã€é›†åˆã€‘HashTable-ConcurrentHashMap","slug":"mianshi/collection/HashTable-concurrentHashMap","date":"2021-02-16T11:02:12.000Z","updated":"2021-02-19T11:05:30.162Z","comments":false,"path":"2021/02/16/mianshi/collection/HashTable-concurrentHashMap/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/16/mianshi/collection/HashTable-concurrentHashMap/","excerpt":"","text":"HashTableçº¿ç¨‹å®‰å…¨æ€§ä¹¦æ¥ä¸Šå›,è¯´åˆ°äº†HashMapæ˜¯ä¸å®‰å…¨çš„,è¯´åˆ°äº†HashTableæ˜¯å®‰å…¨çš„,ç›´æ¥æ”¾æºç  public synchronized V get(Object key) { Entry&lt;?,?&gt; tab[] = table; int hash = key.hashCode(); int index = (hash &amp; 0x7FFFFFFF) % tab.length; for (Entry&lt;?,?&gt; e = tab[index] ; e != null ; e = e.next) { if ((e.hash == hash) &amp;&amp; e.key.equals(key)) { return (V)e.value; } } return null; } public synchronized boolean containsKey(Object key) { Entry&lt;?,?&gt; tab[] = table; int hash = key.hashCode(); int index = (hash &amp; 0x7FFFFFFF) % tab.length; for (Entry&lt;?,?&gt; e = tab[index] ; e != null ; e = e.next) { if ((e.hash == hash) &amp;&amp; e.key.equals(key)) { return true; } } return false; } çœ‹å…¨éƒ¨éƒ½æ˜¯åŠ äº†é”çš„,æ‰€ä»¥å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„äº†ã€‚ ä¸HashMapçš„ä¸åŒ HashMapçš„keyå¯ä»¥ä¸ºnull,HashTableæ˜¯ä¸å…è®¸çš„å› ä¸ºHashTableæœ‰ä¸ªå®‰å…¨å¤±è´¥æœºåˆ¶è¿™ç§æœºåˆ¶ä¼šå¯¼è‡´ä½ è¯»çš„æ•°æ®éƒ½ä¸ä¸€å®šæ˜¯æœ€æ–°çš„,å› æ­¤å½“keyä¸ºnullçš„æ—¶å€™,ä¸ç¡®å®šä»–æ˜¯çœŸçš„åŒ…å«è¿˜æ˜¯çœŸçš„æ²¡æœ‰ åˆå§‹å®¹é‡ä¸åŒHashTableé»˜è®¤æ˜¯11,HashMapæ˜¯16 æ‰©å®¹ä¸åŒHashMapæ˜¯2å€,HashTableæ˜¯2å€+1 è¿­ä»£å™¨ä¸åŒHashMapè¿­ä»£å™¨æ˜¯fail-fast(å¿«é€Ÿå¤±è´¥),HashTableä¸æ˜¯,æ‰€ä»¥HashTableåœ¨è¿­ä»£çš„æ—¶å€™å¯ä»¥ä¿®æ”¹å¢åˆ æ•°æ® å¿«é€Ÿå¤±è´¥å¿«é€Ÿå¤±è´¥æ˜¯javaé‡Œé¢æ‰€æœ‰çš„é›†åˆéƒ½æœ‰çš„ä¸€ä¸ª,å½“å¯¹ä¸€ä¸ªé›†åˆè¿›è¡Œè¿­ä»£éå†çš„æ—¶å€™,å¦‚æœè¿›è¡Œå¢åˆ æ”¹æ“ä½œå°±ä¼šæŠ›å‡ºå¼‚å¸¸,å…¶ä¸­æœ‰ä¸€ä¸ªå˜é‡modCountç”¨æ¥è®°å½•ä¿®æ”¹æ¬¡æ•°,è¿˜æœ‰ä¸€ä¸ªå˜é‡expectedModCountåˆ™æ˜¯è¡¨ç¤ºè¿­ä»£å™¨å¯¹é›†åˆè¿›è¡Œä¿®æ”¹çš„æ¬¡æ•°ã€‚åœ¨è¿›è¡Œnext()/hasNext()çš„æ—¶å€™ä¼šæ£€æŸ¥ä¸¤ä¸ªå€¼æ˜¯å¦ä¸€æ ·,ä¸ä¸€æ ·åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ ç¼ºç‚¹HashTableçš„ä¼˜ç‚¹æ˜¯èƒ½å¤Ÿä¿è¯çº¿ç¨‹çš„å®‰å…¨æ€§,åŒæ—¶è¿™ä¹Ÿæ˜¯ä»–çš„ä¸€ä¸ªç¼ºç‚¹,ä»–ä¸€é”å°±ä¼šæŠŠæ•´ä¸ªå¯¹é”ä½,å¯¼è‡´æ•ˆç‡æä½,å› æ­¤å‡ºç°äº†concurrentHashMapã€‚ ConcurrentHashMapJDK1.7åº•å±‚ç»“æ„Segment+HashEntry(æ•°ç»„+é“¾è¡¨) ConcurrentHashMap é‡‡ç”¨äº†åˆ†æ®µé”æŠ€æœ¯ï¼Œå…¶ä¸­ Segment ç»§æ‰¿äº ReentrantLock, æ‰€ä»¥è¦é”çš„æ—¶å€™å°±åªä¼šå•ç‹¬é”ä¸€ä¸ªSegment,ä¸ä¼šå½±å“å…¶ä»–çš„Segmentã€‚ PUTé¦–å…ˆå°è¯•è·å¾—é”,å¦‚æœå¤±è´¥å°±æ˜¯æœ‰å…¶ä»–çº¿ç¨‹,é‚£ä¹ˆå°±è‡ªæ—‹å°è¯•è·å¾—é”,åˆ°ä¸€å®šæ¬¡æ•°å°±æ”¹ä¸ºé˜»å¡é”è·å–å…ˆé€šè¿‡ key å®šä½åˆ° HashEntry,éå†è¯¥ HashEntry, å¦‚æœä¸ä¸ºç©ºåˆ™éå† key å’Œå½“å‰ key æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰, ç›¸ç­‰å°±è¦†ç›–æ‰æ—§çš„ valueä¸ºç©ºçš„è¯å°±ä¼šæ–°å»ºä¸€ä¸ª HashEntry å¹¶åŠ å…¥åˆ° Segment ä¸­,åŒæ—¶åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹ GETgetä¸éœ€è¦ä¿®æ”¹æ•°æ®,æ‰€ä»¥æ¯”è¾ƒé«˜æ•ˆ,ç¬¬ä¸€æ¬¡Hashåˆ°Segment,ç¬¬äºŒæ¬¡Hashåˆ°å…·ä½“çš„å…ƒç´ ä¸Šã€‚ ç¼ºç‚¹æŸ¥è¯¢çš„æ—¶å€™ï¼Œè¿˜å¾—éå†é“¾è¡¨ï¼Œä¼šå¯¼è‡´æ•ˆç‡å¾ˆä½ï¼Œè¿™ä¸ªè·Ÿjdk1.7çš„HashMapæ˜¯å­˜åœ¨çš„ä¸€æ ·é—®é¢˜ï¼Œæ‰€ä»¥ä»–åœ¨jdk1.8å®Œå…¨ä¼˜åŒ–äº†ã€‚ JDK1.8åº•å±‚ç»“æ„Node+CAS+Synchronized PUT æ ¹æ® key è®¡ç®—å‡º hashcodeã€‚ åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œåˆå§‹åŒ–ã€‚ å³ä¸ºå½“å‰ key å®šä½å‡ºçš„ Nodeï¼Œå¦‚æœä¸ºç©ºè¡¨ç¤ºå½“å‰ä½ç½®å¯ä»¥å†™å…¥æ•°æ®ï¼Œåˆ©ç”¨ CAS å°è¯•å†™å…¥ï¼Œå¤±è´¥åˆ™è‡ªæ—‹ä¿è¯æˆåŠŸã€‚ å¦‚æœå½“å‰ä½ç½®çš„ hashcode == MOVED == -1,åˆ™éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚ å¦‚æœéƒ½ä¸æ»¡è¶³ï¼Œåˆ™åˆ©ç”¨ synchronized é”å†™å…¥æ•°æ®ã€‚ å¦‚æœæ•°é‡å¤§äº TREEIFY_THRESHOLD åˆ™è¦è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚ GET å…ˆæ ¹æ®keyçš„hashå®šä½,å¦‚æœåœ¨æ¡¶ä¸Šç›´æ¥è¿”å› å¦‚æœæ˜¯çº¢é»‘æ ‘é‚£å°±æŒ‰çº¢é»‘æ ‘éå† ä¸æ»¡è¶³å°±æŒ‰é“¾è¡¨æ–¹å¼éå†","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}],"tags":[],"keywords":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://lennuo.github.io/PersonalBlog/categories/é¢è¯•/"}]},{"title":"ã€Leetcodeã€‘538 æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘","slug":"suanfa/538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘","date":"2021-02-10T14:11:22.000Z","updated":"2021-02-21T04:08:29.177Z","comments":false,"path":"2021/02/10/suanfa/538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/10/suanfa/538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘/","excerpt":"","text":"é¢˜ç›®ç»™å‡ºäºŒå‰ æœç´¢ æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¯¥æ ‘çš„èŠ‚ç‚¹å€¼å„ä¸ç›¸åŒï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºç´¯åŠ æ ‘ï¼ˆGreater Sum Treeï¼‰ï¼Œä½¿æ¯ä¸ªèŠ‚ç‚¹ node çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äº node.val çš„å€¼ä¹‹å’Œã€‚ æé†’ä¸€ä¸‹ï¼ŒäºŒå‰æœç´¢æ ‘æ»¡è¶³ä¸‹åˆ—çº¦æŸæ¡ä»¶ï¼š èŠ‚ç‚¹çš„å·¦å­æ ‘ä»…åŒ…å«é”® å°äº èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚èŠ‚ç‚¹çš„å³å­æ ‘ä»…åŒ…å«é”® å¤§äº èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯äºŒå‰æœç´¢æ ‘ã€‚ ç¤ºä¾‹1 è¾“å…¥ï¼š[4,1,6,0,2,5,7,null,null,null,3,null,null,null,8] è¾“å‡ºï¼š[30,36,21,36,35,26,15,null,null,null,33,null,null,null,8] 2è¾“å…¥ï¼šroot = [0,null,1] è¾“å‡ºï¼š[1,null,1] 3è¾“å…¥ï¼šroot = [1,0,2] è¾“å‡ºï¼š[3,3,2] 4è¾“å…¥ï¼šroot = [3,2,4,1] è¾“å‡ºï¼š[7,9,4,10] æç¤ºï¼š æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ä»‹äº 0 å’Œ 104 ä¹‹é—´ã€‚ æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä»‹äº -104 å’Œ 104 ä¹‹é—´ã€‚ æ ‘ä¸­çš„æ‰€æœ‰å€¼ äº’ä¸ç›¸åŒ ã€‚ ç»™å®šçš„æ ‘ä¸ºäºŒå‰æœç´¢æ ‘ã€‚ æ€è·¯ç”±é¢˜çš„å›¾å¯ä»¥çœ‹å‡º,æ˜¯åå‘çš„ä¸­åºéå†,å…ˆè®¿é—®å³å­æ ‘,ç„¶åæ›´æ–°æ ¹èŠ‚ç‚¹çš„å€¼,æŠŠæ ¹èŠ‚ç‚¹çš„å€¼å­˜ä¸‹æ¥ç´¯åŠ åˆ°å·¦å­æ ‘å…¨éƒ¨ç´¯åŠ æ ¹èŠ‚ç‚¹çš„å€¼ã€‚ ä»£ç /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { static int num = 0; public static TreeNode convertBST(TreeNode root) { dfs(root); num = 0; return root; } static void dfs(TreeNode root) { if(root==null) { return ; } dfs(root.right); root.val = root.val + num; num = root.val; dfs(root.left); return ; } }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}],"tags":[],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}]},{"title":"ã€16thæµ™æ±ŸçœACMæ¯”èµ›ã€‘Welcome Party","slug":"suanfa/zoj-Welcome Party","date":"2021-02-01T02:10:22.000Z","updated":"2021-02-21T05:10:08.687Z","comments":false,"path":"2021/02/01/suanfa/zoj-Welcome Party/","link":"","permalink":"https://lennuo.github.io/PersonalBlog/2021/02/01/suanfa/zoj-Welcome Party/","excerpt":"","text":"é¢˜ç›®é¢˜ç›®å¤ªé•¿äº†ç›´æ¥æ”¾é“¾æ¥ å¤§æ¦‚é¢˜æ„a-bæ˜¯æœ‹å‹ï¼Œb-cæ˜¯æœ‹å‹,ä½†a-cä¸ä¸€å®šæ˜¯æœ‹å‹,ç°åœ¨æœ‰ä¸€ä¸ªæˆ¿é—´è®©å…¨éƒ¨çš„äººè¿›å…¥æˆ¿é—´,å¦‚æœæˆ¿é—´æ²¡æœ‰æœ‹å‹é‚£å°±ä¸å¼€å¿ƒ,ç°åœ¨è®©ä½ æ±‚å‡ºæœ€å°çš„ä¸å¼€å¿ƒæ•°é‡ä»¥åŠè¾“å‡ºå‡ºæ¥è¿›æˆ¿é—´çš„åºåˆ— çœ‹åˆ°è¿™é¢˜ç¬¬ä¸€ååº”å°±æ˜¯å¹¶æŸ¥é›†äº†,æŠŠæ‰€æœ‰çš„ç‚¹å…¨éƒ¨è¿èµ·æ¥,ç„¶åå†æ‰¾åˆ°å¯¹åº”çš„æ ¹,è¿™æ ·å­æ˜¯èƒ½å¤Ÿç¡®å®šæœ€å°ä¸å¼€å¿ƒ,ä½†æ˜¯è¾“å‡ºè¿˜æ˜¯ä¸€ä¸ªé—®é¢˜,è¿™ä¸ªæ—¶å€™å°±ç”¨æ‹“æ‰‘æ’åºçš„æ–¹æ³•å»è·‘,æŠŠæ‰€æœ‰çš„æ ¹åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—é‡Œé¢,ç„¶åè¾“å‡ºä»–çš„å­é¡¹,ä¸€ç›´å»åŠ å…¥åˆ°ä¼˜å…ˆé˜Ÿåˆ—,è¿™æ ·å­å°±èƒ½ä¿è¯æœ€å°é¡ºåºã€‚ ä»£ç #include&lt;bits/stdc++.h&gt; using namespace std; int root[1000055]; int find(int x){//æ‰¾æ ¹ while(root[x]!=x){ x = root[x]; } return x; } void union1(int x,int y){ int fx = find(x); int fy = find(y); if(fx&lt;fy){ root[fy]=fx; } else{ root[fx]=fy; } } int vis[1000005]; int ansCount = 0; int ans[1000005]; vector&lt;int&gt; vv[1000005]; void bfs(int st){ priority_queue&lt;int,vector&lt;int&gt;,greater&lt;int&gt; &gt; pq; pq.push(st); while(!pq.empty()){ int cu = pq.top(); pq.pop(); if(vis[cu]==1) continue;//ä»£è¡¨å·²ç»è®¿é—®è¿‡äº† vis[cu]=1; ans[ansCount++] = cu;//æ·»åŠ è¿›å» for(int i=0;i&lt;vv[cu].size();i++){ int v = vv[cu][i]; if(vis[v]!=1){ pq.push(v); } } } } int main(){ int T; scanf(&quot;%d&quot;,&amp;T); while(T--){ ansCount = 0; int n,m; scanf(&quot;%d %d&quot;,&amp;n,&amp;m); for(int i=0;i&lt;=n;i++){ vv[i].clear(); vis[i]=0; root[i]=i; } for(int i=1;i&lt;=m;i++){ int a,b; scanf(&quot;%d %d&quot;,&amp;a,&amp;b); vv[a].push_back(b); vv[b].push_back(a); union1(a,b); } int ans1 = 0; for(int i=1;i&lt;=n;i++){//å¦‚æœæ˜¯æŒ‡å‘ç€è‡ªå·±é‚£ä¹ˆå°±æ˜¯æ ¹ if(root[i]==i){ ans1++; vv[0].push_back(i);//æŠŠæ ¹å…¨éƒ¨åŠ å…¥åˆ°æ•°ç»„é‡Œé¢ } } bfs(0); cout&lt;&lt;ans1&lt;&lt;endl; for(int i=1;i&lt;ansCount;i++){ printf(&quot;%d&quot;,ans[i]); if(i==ansCount-1){ printf(&quot;\\n&quot;); } else{ printf(&quot; &quot;); } } } return 0; }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}],"tags":[],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lennuo.github.io/PersonalBlog/categories/ç®—æ³•/"}]}]}